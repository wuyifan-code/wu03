<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="description" content="åšæ•°æ®å†³ç­–æ™ºæ…§çœ‹æ¿ - æ•´åˆå®¢è§‚ã€ä¸»è§‚ã€å…±äº«ã€æ„Ÿè§‰å››ç±»çŸ¥è¯†ï¼Œå®ç°ä»æ•°æ®åˆ°æ™ºæ…§çš„è®¤çŸ¥å‡çº§">
<title>åšæ•°æ®å†³ç­–æ™ºæ…§çœ‹æ¿</title>
<!-- å¤–éƒ¨èµ„æº -->
<!-- æ³¨æ„: åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œåº”é¿å…ä½¿ç”¨CDNå¼•å…¥Tailwind CSSï¼Œè€Œåº”é€šè¿‡npmå®‰è£…å¹¶é…ç½®ä¸ºPostCSSæ’ä»¶ -->
<!-- ç”Ÿäº§ç¯å¢ƒå®‰è£…æ­¥éª¤:
1. npm install -D tailwindcss postcss autoprefixer
2. npx tailwindcss init -p
3. é…ç½®tailwind.config.jsä¸­çš„contentè·¯å¾„
4. åœ¨CSSæ–‡ä»¶ä¸­æ·»åŠ @tailwindæŒ‡ä»¤
5. é€šè¿‡æ„å»ºå·¥å…·æ‰“åŒ…ç”Ÿæˆä¼˜åŒ–åçš„CSS
è¯¦æƒ…è¯·å‚è€ƒ: https://tailwindcss.com/docs/installation
-->  
<!-- å½“å‰ä½¿ç”¨CDNä»…ç”¨äºå¼€å‘/æ¼”ç¤ºç¯å¢ƒ -->
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
  import { getDatabase, ref, push, set, onValue, remove, get, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCLeUHDLnxpd05HnioDdtOPKa5kMW4LQCE",
    authDomain: "wuyifan-code04.firebaseapp.com",
    databaseURL: "https://wuyifan-code04-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "wuyifan-code04",
    storageBucket: "wuyifan-code04.firebasestorage.app",
    messagingSenderId: "1048037918553",
    appId: "1:1048037918553:web:8ed5388ba1ed7fb677ae48"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // --- Debug console UI ---
  

  

  // --- çŠ¶æ€æ˜¾ç¤ºå™¨ ---
  const statusBox = document.createElement("div");
  statusBox.className = "fixed top-6 right-6 flex gap-3 items-center z-50";

  const userBadge = document.createElement("div");
  userBadge.id = "userBadge";
  userBadge.className = "glass-effect px-3 py-1 rounded-full text-sm font-medium shadow text-gray-800 cursor-pointer";

  const statusDiv = document.createElement("div");
  statusDiv.id = "firebaseStatus";
  statusDiv.className = "glass-effect px-4 py-2 rounded-xl shadow-lg text-sm font-medium flex items-center space-x-2";
  statusDiv.innerHTML = "<span class='w-3 h-3 rounded-full bg-yellow-400'></span><span>è¿æ¥ä¸­...</span>";

  statusBox.appendChild(userBadge);
  statusBox.appendChild(statusDiv);
  document.body.appendChild(statusBox);

  // --- Connection test ---
  async function testConnection(){
    try{
      await set(ref(db, "connection_test_debug"), { status: "connected", ts: serverTimestamp() });
      statusDiv.innerHTML = "<span class='w-3 h-3 rounded-full bg-green-500'></span><span>ğŸŸ¢ Firebaseè¿æ¥æˆåŠŸ</span>";
      
    }catch(e){
      statusDiv.innerHTML = "<span class='w-3 h-3 rounded-full bg-red-500'></span><span>ğŸ”´ Firebaseè¿æ¥å¤±è´¥</span>";
      
      alert("âš ï¸ Firebaseè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥Realtime Databaseè§„åˆ™æˆ–ç½‘ç»œè¿æ¥ã€‚");
    }
  }
  testConnection();

  // --- Guest identity ---
  const GUEST_ID_KEY = "guest_id_v1";
  const GUEST_NAME_KEY = "guest_name_v1";

  function genId(len=6){
    const chars = "ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz0123456789";
    let s = "";
    for(let i=0;i<len;i++) s += chars.charAt(Math.floor(Math.random()*chars.length));
    return s;
  }

  let guestId = localStorage.getItem(GUEST_ID_KEY);
  if(!guestId){
    guestId = "guest_" + genId(8);
    localStorage.setItem(GUEST_ID_KEY, guestId);
  }

  let guestName = localStorage.getItem(GUEST_NAME_KEY);
  if(!guestName){
    guestName = "æ¸¸å®¢" + genId(4);
    localStorage.setItem(GUEST_NAME_KEY, guestName);
  }

  userBadge.textContent = guestName;
  userBadge.onclick = ()=>{
    const v = prompt("è¯·è¾“å…¥ä½ çš„æ˜µç§°ï¼ˆå¯ç•™ç©ºä»¥ä½¿ç”¨éšæœºåï¼‰", guestName);
    if(v === null) return;
    const name = v.trim() || ("æ¸¸å®¢" + genId(4));
    guestName = name;
    localStorage.setItem(GUEST_NAME_KEY, guestName);
    userBadge.textContent = guestName;
  };

  const commentsRef = ref(db, "comments");
  

  // --- æäº¤è¯„è®º ---
  window.submitComment = async function(){
    const input = document.querySelector("textarea, input[type='text']");
    if(!input) return alert("æœªæ‰¾åˆ°è¾“å…¥æ¡†");
    const content = input.value.trim();
    if(!content) return alert("è¯·è¾“å…¥è¯„è®ºå†…å®¹");

    const comment = {
      uid: guestId,
      author: guestName,
      content,
      timestamp: Date.now(),
      likes: {},
      replies: {}
    };
    try{
      await push(commentsRef, comment);
      input.value = "";
      
    }catch(e){
      
      alert("âš ï¸ è¯„è®ºå‘å¸ƒå¤±è´¥ï¼Œè¯·æ£€æŸ¥Firebaseæ•°æ®åº“å†™å…¥è§„åˆ™ã€‚");
    }
  };

  // --- ç‚¹èµ ---
  async function toggleLike(commentId){
    try{
      const likeRef = ref(db, `comments/${commentId}/likes/${guestId}`);
      const snap = await get(likeRef);
      if(snap.exists()){
        await remove(likeRef);
        
      }else{
        await set(likeRef, true);
        
      }
    }catch(e){
      
    }
  }

  // --- åˆ é™¤ ---
  async function deleteComment(commentId, replyId=null, parent=null){
    try{
      if(replyId){
        const reply = parent.replies[replyId];
        if(reply.uid !== guestId) return alert("åªèƒ½åˆ é™¤è‡ªå·±çš„å›å¤");
        await remove(ref(db, `comments/${commentId}/replies/${replyId}`));
        
      }else{
        if(parent.uid !== guestId) return alert("åªèƒ½åˆ é™¤è‡ªå·±çš„è¯„è®º");
        await remove(ref(db, `comments/${commentId}`));
        
      }
    }catch(e){
      
      alert("âš ï¸ åˆ é™¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥æƒé™ã€‚");
    }
  }

  // --- å›å¤ ---
  async function submitReply(commentId){
    const input = document.getElementById(`reply-${commentId}`);
    const text = input?.value.trim();
    if(!text) return;
    const reply = {
      uid: guestId,
      author: guestName,
      content: text,
      timestamp: Date.now()
    };
    try{
      await push(ref(db, `comments/${commentId}/replies`), reply);
      input.value = "";
      
    }catch(e){
      
    }
  }

  // --- æ¸²æŸ“è¯„è®º ---
  const container = document.getElementById("comment-list") || document.getElementById("commentList") || document.querySelector(".comment-list");
  onValue(commentsRef, (snapshot)=>{
    if(!container) return;
    container.innerHTML = "";
    if(!snapshot.exists()){
      container.innerHTML = "<p class='text-gray-400 text-center'>æš‚æ— è¯„è®º</p>";
      return;
    }
    const data = snapshot.val();
    const entries = Object.entries(data).sort((a,b)=>b[1].timestamp - a[1].timestamp);
    for(const [id, c] of entries){
      const likes = c.likes ? Object.keys(c.likes).length : 0;
      const liked = c.likes && c.likes[guestId];
      const div = document.createElement("div");
      div.className = "p-4 bg-white/70 rounded-xl shadow mb-3";
      div.innerHTML = `
        <div class='flex justify-between items-center mb-2'>
          <div><span class='font-semibold'>${c.author}</span>
          <span class='text-xs text-gray-500 ml-2'>${new Date(c.timestamp).toLocaleString()}</span></div>
          <div class='flex gap-2'>
            <button class='text-sm ${liked?"text-red-500 font-bold":"text-gray-500"}' id='like-${id}'>â¤ï¸ ${likes}</button>
            ${c.uid===guestId? `<button class='text-sm text-red-500' id='del-${id}'>ğŸ—‘ï¸</button>` : ""}
          </div>
        </div>
        <div class='mb-3 text-gray-700'>${c.content}</div>
        <div id='replies-${id}' class='ml-4 space-y-2'></div>
        <div class='flex gap-2 mt-2'>
          <input id='reply-${id}' class='flex-1 border rounded-lg px-2 py-1 text-sm' placeholder='å›å¤...'/>
          <button id='reply-btn-${id}' class='px-3 py-1 bg-blue-500 text-white rounded-lg text-sm'>å‘é€</button>
        </div>
      `;
      container.appendChild(div);
      document.getElementById(`like-${id}`).onclick = ()=> toggleLike(id);
      if(c.uid===guestId) document.getElementById(`del-${id}`).onclick = ()=> deleteComment(id, null, c);
      document.getElementById(`reply-btn-${id}`).onclick = ()=> submitReply(id);

      if(c.replies){
        const replies = Object.entries(c.replies).sort((a,b)=>a[1].timestamp - b[1].timestamp);
        for(const [rid, r] of replies){
          const rdiv = document.createElement("div");
          rdiv.className = "p-2 bg-white/50 rounded-lg border";
          rdiv.innerHTML = `<div class='flex justify-between items-center'><span class='text-sm font-semibold'>${r.author}</span>${r.uid===guestId?`<button id='rdel-${id}-${rid}' class='text-xs text-red-500'>ğŸ—‘ï¸</button>`:""}</div><div class='text-sm text-gray-700 mt-1'>${r.content}</div>`;
          document.getElementById(`replies-${id}`).appendChild(rdiv);
          if(r.uid===guestId) document.getElementById(`rdel-${id}-${rid}`).onclick = ()=> deleteComment(id, rid, c);
        }
      }
    }
  });
</script>

<!-- Tailwind é…ç½® -->
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        rose: {
          1: '#e8a987',
          light: '#f8f4f1',
          DEFAULT: '#e8a987'
        },
        ivory: '#fffaf5',
        accent: '#ffb57a',
        data: '#3b82f6',    // æ•°æ® - è“è‰²
        experience: '#ef4444', // ä½“éªŒ - çº¢è‰²  
        intuition: '#10b981',  // ç›´è§‰ - ç»¿è‰²
        muted: '#6b7280'
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif']
      },
      animation: {
        'float': 'float 3s ease-in-out infinite',
        'float-delay-1': 'float 3.2s ease-in-out 0.2s infinite',
        'float-delay-2': 'float 3.4s ease-in-out 0.4s infinite',
        'float-delay-3': 'float 3.6s ease-in-out 0.6s infinite',
        'pulse-ring': 'pulse-ring 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite',
        'pulse-ring-reverse': 'pulse-ring 2.2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite reverse',
        'pulse-ring-slow': 'pulse-ring 3s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite',
        'pulse-ring-fast': 'pulse-ring 1.5s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite',
        'fade-in-up': 'fade-in-up 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards',
        'fade-in-up-delay-1': 'fade-in-up 0.8s cubic-bezier(0.22, 1, 0.36, 1) 0.2s forwards',
        'fade-in-up-delay-2': 'fade-in-up 0.8s cubic-bezier(0.22, 1, 0.36, 1) 0.4s forwards',
        'fade-in-up-delay-3': 'fade-in-up 0.8s cubic-bezier(0.22, 1, 0.36, 1) 0.6s forwards',
        'glow': 'glow 2s ease-in-out infinite alternate',
        'pulse-soft': 'pulse-soft 3s ease-in-out infinite',
        'ring-expand': 'ring-expand 4s ease-out infinite',
        'ring-contract': 'ring-contract 3s ease-in infinite',
        'spiral': 'spiral 8s linear infinite',
        'converge': 'converge 3s ease-in-out infinite',
        'diverge': 'diverge 3.5s ease-in-out infinite',
        'rotate-slow': 'rotate-slow 10s linear infinite',
        'rotate-fast': 'rotate-fast 6s linear infinite',
      },
      keyframes: {
        float: {
          '0%, 100%': { transform: 'translateY(0px)' },
          '33%': { transform: 'translateY(-10px)' },
          '66%': { transform: 'translateY(-5px)' }
        },
        'pulse-ring': {
          '0%': { transform: 'scale(1)', opacity: '1' },
          '50%': { transform: 'scale(1.15)', opacity: '0.7' },
          '100%': { transform: 'scale(1.3)', opacity: '0.3' }
        },
        'fade-in-up': {
          '0%': { opacity: '0', transform: 'translateY(30px)' },
          '100%': { opacity: '1', transform: 'translateY(0)' }
        },
        glow: {
          '0%': { boxShadow: '0 0 20px rgba(255, 181, 122, 0.4)' },
          '100%': { boxShadow: '0 0 30px rgba(255, 181, 122, 0.8), 0 0 40px rgba(255, 181, 122, 0.3)' }
        },
        'pulse-soft': {
          '0%, 100%': { opacity: '1', transform: 'scale(1)' },
          '50%': { opacity: '0.8', transform: 'scale(1.02)' }
        },
        'ring-expand': {
          '0%': { transform: 'scale(1)', opacity: '0.8', borderWidth: '2px' },
          '50%': { transform: 'scale(1.4)', opacity: '0.4', borderWidth: '1px' },
          '100%': { transform: 'scale(1.8)', opacity: '0.1', borderWidth: '0px' }
        },
        'ring-contract': {
          '0%': { transform: 'scale(2)', opacity: '0.1', borderWidth: '0px' },
          '50%': { transform: 'scale(1.4)', opacity: '0.4', borderWidth: '1px' },
          '100%': { transform: 'scale(1)', opacity: '0.8', borderWidth: '2px' }
        },
        'spiral': {
          '0%': { transform: 'scale(1) rotate(0deg)', opacity: '0.8' },
          '25%': { transform: 'scale(1.1) rotate(90deg)', opacity: '0.6' },
          '50%': { transform: 'scale(1.2) rotate(180deg)', opacity: '0.4' },
          '75%': { transform: 'scale(1.1) rotate(270deg)', opacity: '0.6' },
          '100%': { transform: 'scale(1) rotate(360deg)', opacity: '0.8' }
        },
        'converge': {
          '0%, 100%': { transform: 'scale(1) rotate(0deg)', opacity: '0.6' },
          '50%': { transform: 'scale(0.8) rotate(180deg)', opacity: '1' }
        },
        'diverge': {
          '0%, 100%': { transform: 'scale(0.8) rotate(0deg)', opacity: '1' },
          '50%': { transform: 'scale(1.2) rotate(180deg)', opacity: '0.6' }
        },
        'rotate-slow': {
          '0%': { transform: 'rotate(0deg)' },
          '100%': { transform: 'rotate(360deg)' }
        },
        'rotate-fast': {
          '0%': { transform: 'rotate(0deg)' },
          '100%': { transform: 'rotate(-360deg)' }
        }
      }
    }
  }
}
</script>

<!-- è‡ªå®šä¹‰æ ·å¼ -->
<style type="text/tailwindcss">
@layer utilities {
  .glass-effect {
    background: rgba(248, 244, 241, 0.96);
    backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
  }
  
  .glass-effect:hover {
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }
  
  .content-auto {
    content-visibility: auto;
  }
  
  .knowledge-card {
    transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
    transform-origin: center;
    position: relative;
    overflow: hidden;
    z-index: 10;
  }
  
  .knowledge-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s ease;
    z-index: 1;
  }
  
  .knowledge-card:hover::before {
    left: 100%;
  }
  
  .knowledge-card:hover {
    transform: translateY(-8px) scale(1.03);
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
    z-index: 20;
  }
  
  .energy-core {
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
    z-index: 15;
  }
  
  .energy-core::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, rgba(255, 181, 122, 0.1), transparent 70%);
    animation: pulse-soft 3s ease-in-out infinite;
    pointer-events: none;
  }
  
  .energy-core:hover {
    transform: scale(1.08);
    box-shadow: 0 30px 60px rgba(232, 169, 135, 0.2);
    animation: glow 2s ease-in-out infinite alternate;
  }
  
  .connection-line {
    stroke: #ffb57a;
    stroke-width: 2;
    opacity: 0.6;
    transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
    stroke-dasharray: 10, 5;
    animation: dash 2s linear infinite;
    z-index: 5;
  }
  
  .connection-line:hover {
    opacity: 1;
    stroke-width: 3;
    stroke-dasharray: none;
  }
  
  @keyframes dash {
    to {
      stroke-dashoffset: -30;
    }
  }
  
  .nav-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #d1d5db;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
    margin: 8px 0;
    position: relative;
  }
  
  .nav-dot::after {
    content: '';
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    border-radius: 50%;
    background: rgba(255, 181, 122, 0.2);
    transform: scale(0);
    transition: transform 0.3s ease;
  }
  
  .nav-dot.active {
    background: #ffb57a;
    transform: scale(1.3);
    box-shadow: 0 0 15px rgba(255, 181, 122, 0.5);
  }
  
  .nav-dot.active::after {
    transform: scale(1.5);
    animation: pulse-soft 2s ease-in-out infinite;
  }
  
  .nav-dot:hover {
    background: #f97316;
    transform: scale(1.2);
  }
  
  .section-content {
    display: none;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .section-content.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
  }
  
  .progress-bar {
    position: relative;
    overflow: hidden;
  }
  
  .progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
    animation: shimmer 2s infinite;
  }
  
  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
  
  /* ç²’å­èƒŒæ™¯æ•ˆæœ */
  .particle-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    overflow: hidden;
  }
  
  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: rgba(255, 181, 122, 0.6);
    border-radius: 50%;
    animation: float-particle 10s infinite linear;
  }
  
  @keyframes float-particle {
    0% {
      transform: translateY(100vh);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(-10vh);
      opacity: 0;
    }
  }
  
  /* æ¨¡æ€æ¡†åŠ¨ç”» */
  .modal-overlay {
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .modal-overlay.active {
    opacity: 1;
    visibility: visible;
  }
  
  .modal-card {
    opacity: 0;
    transform: scale(0.9) translateY(30px);
    transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .modal-overlay.active .modal-card {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  
  /* æŒ‰é’®åŠ¨ç”»æ•ˆæœ */
  .animated-button {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }
  
  .animated-button::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }
  
  .animated-button:hover::after {
    width: 300px;
    height: 300px;
  }
  
  /* å›¾è¡¨åŠ¨ç”» */
  .chart-container {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  }
  
  .chart-container.visible {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* çŸ¥è¯†å¯è§†åŒ–å®¹å™¨ */
  .knowledge-visualization {
    position: relative;
    width: 100%;
    height: 600px;
    max-width: 800px;
    margin: 0 auto;
  }
  
  /* å¤šå±‚ç¯å½¢åŠ¨ç”»æ ·å¼ */
  .ring-layer {
    position: absolute;
    border-radius: 50%;
    border: 2px solid;
    pointer-events: none;
    opacity: 0.3;
  }
  
  .ring-1 { border-color: #ffb57a; }
  .ring-2 { border-color: #ff8a4c; }
  .ring-3 { border-color: #ff6b35; }
  .ring-4 { border-color: #e8a987; }
  .ring-5 { border-color: #f5c7a9; }
  
  .ring-gradient {
    background: conic-gradient(from 0deg, 
      rgba(255, 181, 122, 0.3) 0deg, 
      rgba(255, 181, 122, 0.1) 90deg, 
      rgba(255, 181, 122, 0.3) 180deg, 
      rgba(255, 181, 122, 0.1) 270deg, 
      rgba(255, 181, 122, 0.3) 360deg);
    border-radius: 50%;
    position: absolute;
    animation: spiral 8s linear infinite;
    opacity: 0.2;
  }
  
  .pulse-glow {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 181, 122, 0.4) 0%, transparent 70%);
    animation: pulse-ring 2.5s ease-out infinite;
  }
  
  /* å“²å­¦æ´å¯ŸåŒºä¸“ç”¨ç¯å½¢åŠ¨ç”» */
  .insight-ring {
    position: absolute;
    border-radius: 50%;
    pointer-events: none;
    opacity: 0.3;
  }
  
  .data-ring {
    border: 2px solid theme('colors.data');
    background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
  }
  
  .experience-ring {
    border: 2px solid theme('colors.experience');
    background: radial-gradient(circle, rgba(239, 68, 68, 0.1) 0%, transparent 70%);
  }
  
  .intuition-ring {
    border: 2px solid theme('colors.intuition');
    background: radial-gradient(circle, rgba(16, 185, 129, 0.1) 0%, transparent 70%);
  }
  
  .integrated-core {
    position: relative;
    border-radius: 50%;
    background: radial-gradient(circle, 
      rgba(255, 255, 255, 0.9) 0%, 
      rgba(248, 244, 241, 0.8) 50%, 
      transparent 100%);
    animation: pulse-soft 2s ease-in-out infinite;
  }
  
  .connection-beam {
    position: absolute;
    background: linear-gradient(90deg, transparent, theme('colors.accent'), transparent);
    height: 2px;
    opacity: 0.6;
    animation: beam-pulse 3s ease-in-out infinite;
  }
  
  @keyframes beam-pulse {
    0%, 100% { opacity: 0.3; transform: scaleX(0.8); }
    50% { opacity: 1; transform: scaleX(1.2); }
  }
  
  /* è¯„è®ºåŠŸèƒ½æ ·å¼ */
  .comment-section {
    margin-top: 3rem;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 1.5rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  }
  
  .comment-form {
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(248, 244, 241, 0.8);
    border-radius: 1rem;
  }
  
  .comment-input {
    width: 100%;
    padding: 1rem;
    border: 1px solid rgba(255, 181, 122, 0.3);
    border-radius: 0.5rem;
    resize: vertical;
    min-height: 120px;
    transition: all 0.3s ease;
  }
  
  .comment-input:focus {
    outline: none;
    border-color: #ffb57a;
    box-shadow: 0 0 10px rgba(255, 181, 122, 0.3);
  }
  
  .comment-list {
    max-height: 400px;
    overflow-y: auto;
    padding-right: 0.5rem;
  }
  
  .comment-item {
    padding: 1.2rem;
    margin-bottom: 1rem;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 0.8rem;
    border-left: 4px solid #ffb57a;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease;
  }
  
  .comment-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
  }
  
  .comment-author {
    font-weight: 600;
    margin-bottom: 0.3rem;
    color: #374151;
  }
  
  .comment-time {
    font-size: 0.875rem;
    color: #6b7280;
    margin-bottom: 0.8rem;
  }
  
  .comment-content {
    line-height: 1.6;
    color: #4b5563;
  }
  
  .comment-actions {
    display: flex;
    gap: 1rem;
    margin-top: 0.8rem;
  }
  
  .comment-btn {
    font-size: 0.875rem;
    color: #6b7280;
    cursor: pointer;
    transition: color 0.3s ease;
  }
  
  .comment-btn:hover {
    color: #ffb57a;
  }
  
  .no-comments {
    text-align: center;
    padding: 2rem;
    color: #6b7280;
    background: rgba(248, 244, 241, 0.5);
    border-radius: 0.8rem;
  }
  
  /* å“åº”å¼å¡ç‰‡å®šä½ */
  @media (min-width: 768px) {
    .card-top-left {
      position: absolute;
      top: 20px;
      left: 20px;
      max-width: 200px;
    }
    
    .card-top-right {
      position: absolute;
      top: 20px;
      right: 20px;
      max-width: 200px;
    }
    
    .card-bottom-left {
      position: absolute;
      bottom: 20px;
      left: 20px;
      max-width: 200px;
    }
    
    .card-bottom-right {
      position: absolute;
      bottom: 20px;
      right: 20px;
      max-width: 200px;
    }
    
    .core-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }
  
  @media (max-width: 767px) {
    .knowledge-visualization {
      height: auto;
      min-height: 600px;
      padding: 20px;
    }
    
    .card-mobile {
      position: relative !important;
      top: auto !important;
      left: auto !important;
      right: auto !important;
      bottom: auto !important;
      max-width: 100% !important;
      margin: 10px auto !important;
      transform: none !important;
    }
    
    .core-mobile {
      position: relative !important;
      top: auto !important;
      left: auto !important;
      transform: none !important;
      margin: 20px auto !important;
    }
    
    .comment-section {
      padding: 1rem;
      margin-top: 2rem;
    }
    
    .comment-form {
      padding: 1rem;
    }
    
    .comment-input {
      min-height: 100px;
    }
  }
}
</style>
</head>

<body class="bg-ivory min-h-screen font-sans text-gray-800 overflow-x-hidden">
<!-- ç²’å­èƒŒæ™¯ -->
<div class="particle-background" id="particleBackground"></div>

<!-- æ¡Œé¢ç«¯ä¾§è¾¹å¯¼èˆª -->
<aside class="fixed left-4 top-1/2 transform -translate-y-1/2 hidden md:flex flex-col items-center z-50" aria-label="é¡µé¢å¯¼èˆª">
  <div class="flex flex-col items-center space-y-6">
    <div class="flex items-center">
      <div class="nav-dot active" data-target="s1" title="å“²å­¦çŸ¥è¯†" aria-controls="section1" aria-selected="true"></div>
      <span class="nav-tooltip ml-3 text-sm text-muted whitespace-nowrap">å“²å­¦çŸ¥è¯†</span>
    </div>
    <div class="flex items-center">
      <div class="nav-dot" data-target="s2" title="è–„/åšå¯¹æ¯”" aria-controls="section2" aria-selected="false"></div>
      <span class="nav-tooltip ml-3 text-sm text-muted whitespace-nowrap">è–„/åšå¯¹æ¯”</span>
    </div>
    <div class="flex items-center">
      <div class="nav-dot" data-target="s3" title="è®¤çŸ¥é˜¶æ¢¯" aria-controls="section3" aria-selected="false"></div>
      <span class="nav-tooltip ml-3 text-sm text-muted whitespace-nowrap">è®¤çŸ¥é˜¶æ¢¯</span>
    </div>
    <div class="flex items-center">
      <div class="nav-dot" data-target="s4" title="åº”ç”¨åœºæ™¯" aria-controls="section4" aria-selected="false"></div>
      <span class="nav-tooltip ml-3 text-sm text-muted whitespace-nowrap">åº”ç”¨åœºæ™¯</span>
    </div>
    <div class="flex items-center">
      <div class="nav-dot" data-target="s5" title="å“²å­¦æ´å¯Ÿ" aria-controls="section5" aria-selected="false"></div>
      <span class="nav-tooltip ml-3 text-sm text-muted whitespace-nowrap">å“²å­¦æ´å¯Ÿ</span>
    </div>
    <div class="flex items-center">
      <div class="nav-dot" data-target="s6" title="ç”¨æˆ·è¯„è®º" aria-controls="section6" aria-selected="false"></div>
      <span class="nav-tooltip ml-3 text-sm text-muted whitespace-nowrap">ç”¨æˆ·è¯„è®º</span>
    </div>
  </div>
</aside>

<!-- ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆª -->
<nav class="fixed bottom-4 left-1/2 transform -translate-x-1/2 md:hidden z-50">
  <div class="glass-effect rounded-full px-6 py-3 flex items-center space-x-6 shadow-lg">
    <button class="nav-btn active" data-target="s1" aria-label="å“²å­¦çŸ¥è¯†" aria-selected="true">
      <span class="block w-3 h-3 rounded-full bg-accent animate-pulse-soft"></span>
    </button>
    <button class="nav-btn" data-target="s2" aria-label="è–„/åšå¯¹æ¯”" aria-selected="false">
      <span class="block w-3 h-3 rounded-full bg-gray-300"></span>
    </button>
    <button class="nav-btn" data-target="s3" aria-label="è®¤çŸ¥é˜¶æ¢¯" aria-selected="false">
      <span class="block w-3 h-3 rounded-full bg-gray-300"></span>
    </button>
    <button class="nav-btn" data-target="s4" aria-label="åº”ç”¨åœºæ™¯" aria-selected="false">
      <span class="block w-3 h-3 rounded-full bg-gray-300"></span>
    </button>
    <button class="nav-btn" data-target="s5" aria-label="å“²å­¦æ´å¯Ÿ" aria-selected="false">
      <span class="block w-3 h-3 rounded-full bg-gray-300"></span>
    </button>
    <button class="nav-btn" data-target="s6" aria-label="ç”¨æˆ·è¯„è®º" aria-selected="false">
      <span class="block w-3 h-3 rounded-full bg-gray-300"></span>
    </button>
  </div>
</nav>

<!-- ä¸»å†…å®¹åŒºåŸŸ -->
<main class="container mx-auto px-4 py-12 max-w-7xl">
  <!-- ç¬¬1éƒ¨åˆ†ï¼šå“²å­¦çŸ¥è¯† -->
  <section id="s1" class="section-content active">
    <div class="text-center mb-16 animate-fade-in-up">
      <h1 class="text-4xl md:text-5xl font-bold mb-4 text-gray-800">åšæ•°æ®å†³ç­–æ™ºæ…§çœ‹æ¿</h1>
      <p class="text-lg text-muted max-w-3xl mx-auto animate-fade-in-up-delay-1">å››ç±»å“²å­¦çŸ¥è¯†ç¯ç»•è®¤çŸ¥æ ¸å¿ƒï¼Œè¿çº¿äº’åŠ¨å±•ç¤ºä¿¡æ¯æµåŠ¨</p>
    </div>

    <!-- å››ç±»çŸ¥è¯†è¯´æ˜ -->
    <div class="glass-effect rounded-2xl p-8 mb-16 max-w-4xl mx-auto shadow-lg animate-fade-in-up-delay-2">
      <h2 class="text-2xl font-bold mb-6 text-center">å››ç±»çŸ¥è¯†</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="flex items-center space-x-3 animate-fade-in-up">
          <span class="w-4 h-4 rounded-full bg-orange-400 flex-shrink-0 animate-pulse-soft"></span>
          <span><strong>å®¢è§‚</strong> â€” å¯éªŒè¯æ•°æ®ã€æ¨¡å‹æŒ‡æ ‡</span>
        </div>
        <div class="flex items-center space-x-3 animate-fade-in-up-delay-1">
          <span class="w-4 h-4 rounded-full bg-blue-400 flex-shrink-0 animate-pulse-soft" style="animation-delay: 0.3s;"></span>
          <span><strong>ä¸»è§‚</strong> â€” ä¸ªä½“ä½“éªŒã€æƒ…æ„Ÿæ—¥å¿—</span>
        </div>
        <div class="flex items-center space-x-3 animate-fade-in-up-delay-2">
          <span class="w-4 h-4 rounded-full bg-yellow-400 flex-shrink-0 animate-pulse-soft" style="animation-delay: 0.6s;"></span>
          <span><strong>å…±äº«</strong> â€” ç¤¾ç¾¤è®¤çŸ¥ã€æ–‡åŒ–è„‰ç»œ</span>
        </div>
        <div class="flex items-center space-x-3 animate-fade-in-up-delay-3">
          <span class="w-4 h-4 rounded-full bg-red-400 flex-shrink-0 animate-pulse-soft" style="animation-delay: 0.9s;"></span>
          <span><strong>æ„Ÿè§‰</strong> â€” ç›´è§‰ä¸è®¾è®¡çµæ„Ÿ</span>
        </div>
      </div>
    </div>

    <!-- çŸ¥è¯†å¯è§†åŒ–å›¾è¡¨ - å¢å¼ºå¤šå±‚ç¯å½¢åŠ¨ç”» -->
    <div class="knowledge-visualization" id="knowledgeViz">
      <!-- SVG è¿æ¥çº¿å®¹å™¨ -->
      <svg class="absolute inset-0 w-full h-full pointer-events-none" id="connectionSvg">
        <!-- è¿æ¥çº¿å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
      </svg>

      <!-- å¤šå±‚ç¯å½¢åŠ¨ç”»å®¹å™¨ -->
      <div class="absolute inset-0 flex items-center justify-center pointer-events-none" id="ringContainer">
        <!-- ç¯å½¢å±‚1 - å¿«é€Ÿè„‰å†² -->
        <div class="ring-layer ring-1 w-48 h-48 animate-pulse-ring-fast" style="animation-delay: 0s;"></div>
        
        <!-- ç¯å½¢å±‚2 - ä¸­é€Ÿè„‰å†² -->
        <div class="ring-layer ring-2 w-56 h-56 animate-pulse-ring" style="animation-delay: 0.3s;"></div>
        
        <!-- ç¯å½¢å±‚3 - æ…¢é€Ÿè„‰å†² -->
        <div class="ring-layer ring-3 w-64 h-64 animate-pulse-ring-slow" style="animation-delay: 0.6s;"></div>
        
        <!-- ç¯å½¢å±‚4 - åå‘è„‰å†² -->
        <div class="ring-layer ring-4 w-72 h-72 animate-pulse-ring-reverse" style="animation-delay: 0.9s;"></div>
        
        <!-- ç¯å½¢å±‚5 - æ‰©å±•åŠ¨ç”» -->
        <div class="ring-layer ring-5 w-80 h-80 animate-ring-expand" style="animation-delay: 0s;"></div>
        
        <!-- æ¸å˜èºæ—‹ç¯ -->
        <div class="ring-gradient w-44 h-44"></div>
        
        <!-- è„‰å†²å…‰ç¯ -->
        <div class="pulse-glow w-32 h-32" style="animation-delay: 0s;"></div>
        <div class="pulse-glow w-40 h-40" style="animation-delay: 1s;"></div>
        <div class="pulse-glow w-48 h-48" style="animation-delay: 2s;"></div>
      </div>

      <!-- çŸ¥è¯†å¡ç‰‡å®¹å™¨ -->
      <div class="relative w-full h-full">
        <!-- å®¢è§‚çŸ¥è¯† - å·¦ä¸Šè§’ -->
        <div class="knowledge-card glass-effect rounded-xl p-6 shadow-lg card-top-left animate-float" 
             data-type="objective" 
             aria-label="å®¢è§‚çŸ¥è¯†å¡ç‰‡">
          <div class="flex items-center mb-3">
            <span class="w-3 h-3 rounded-full bg-orange-400 mr-2 animate-pulse"></span>
            <h3 class="font-bold text-lg">å®¢è§‚</h3>
          </div>
          <p class="text-sm text-muted">å®éªŒ / æ¨¡å‹</p>
          <button class="mt-3 text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline animated-button" 
                  onclick="showDetail('objective')" 
                  aria-expanded="false" 
                  aria-controls="objectiveDetail">
            æŸ¥çœ‹è¯¦æƒ…
          </button>
        </div>

        <!-- ä¸»è§‚çŸ¥è¯† - å³ä¸Šè§’ -->
        <div class="knowledge-card glass-effect rounded-xl p-6 shadow-lg card-top-right animate-float-delay-1" 
             data-type="subjective"
             aria-label="ä¸»è§‚çŸ¥è¯†å¡ç‰‡">
          <div class="flex items-center mb-3">
            <span class="w-3 h-3 rounded-full bg-blue-400 mr-2 animate-pulse"></span>
            <h3 class="font-bold text-lg">ä¸»è§‚</h3>
          </div>
          <p class="text-sm text-muted">æƒ…æ„Ÿ / ä½“éªŒ</p>
          <button class="mt-3 text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline animated-button" 
                  onclick="showDetail('subjective')"
                  aria-expanded="false"
                  aria-controls="subjectiveDetail">
            æŸ¥çœ‹è¯¦æƒ…
          </button>
        </div>

        <!-- å…±äº«çŸ¥è¯† - å·¦ä¸‹è§’ -->
        <div class="knowledge-card glass-effect rounded-xl p-6 shadow-lg card-bottom-left animate-float-delay-2" 
             data-type="shared"
             aria-label="å…±äº«çŸ¥è¯†å¡ç‰‡">
          <div class="flex items-center mb-3">
            <span class="w-3 h-3 rounded-full bg-yellow-400 mr-2 animate-pulse"></span>
            <h3 class="font-bold text-lg">å…±äº«</h3>
          </div>
          <p class="text-sm text-muted">ç¤¾ç¾¤ / æ–‡åŒ–</p>
          <button class="mt-3 text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline animated-button" 
                  onclick="showDetail('shared')"
                  aria-expanded="false"
                  aria-controls="sharedDetail">
            æŸ¥çœ‹è¯¦æƒ…
          </button>
        </div>

        <!-- æ„Ÿè§‰çŸ¥è¯† - å³ä¸‹è§’ -->
        <div class="knowledge-card glass-effect rounded-xl p-6 shadow-lg card-bottom-right animate-float-delay-3" 
             data-type="intuitive"
             aria-label="æ„Ÿè§‰çŸ¥è¯†å¡ç‰‡">
          <div class="flex items-center mb-3">
            <span class="w-3 h-3 rounded-full bg-red-400 mr-2 animate-pulse"></span>
            <h3 class="font-bold text-lg">æ„Ÿè§‰</h3>
          </div>
          <p class="text-sm text-muted">ç›´è§‰ / çµæ„Ÿ</p>
          <button class="mt-3 text-xs text-blue-600 hover:text-blue-800 focus:outline-none focus:underline animated-button" 
                  onclick="showDetail('intuitive')"
                  aria-expanded="false"
                  aria-controls="intuitiveDetail">
            æŸ¥çœ‹è¯¦æƒ…
          </button>
        </div>

        <!-- è®¤çŸ¥æ ¸å¿ƒ - ä¸­å¿ƒä½ç½® -->
        <div class="energy-core glass-effect rounded-full w-40 h-40 flex flex-col items-center justify-center core-center shadow-xl" 
             aria-label="è®¤çŸ¥æ ¸å¿ƒ">
          <h3 class="font-bold text-lg mb-2">è®¤çŸ¥æ ¸å¿ƒ</h3>
          <div class="w-3 h-3 rounded-full bg-accent mb-2 animate-pulse"></div>
          <p class="text-xs text-center text-muted">çŸ¥è¯†æ•´åˆ</p>
          
          <!-- æ ¸å¿ƒå†…éƒ¨å…‰ç¯ -->
          <div class="absolute inset-0 rounded-full border-2 border-accent opacity-40 animate-pulse-ring"></div>
          <div class="absolute inset-2 rounded-full border border-accent opacity-30 animate-pulse-ring-reverse"></div>
          <div class="absolute inset-4 rounded-full border border-accent opacity-20 animate-pulse-ring"></div>
          <div class="absolute inset-6 rounded-full border border-accent opacity-15 animate-pulse-ring-reverse"></div>
          <div class="absolute inset-8 rounded-full border border-accent opacity-10 animate-pulse-ring"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ç¬¬2éƒ¨åˆ†ï¼šè–„/åšæ•°æ®å¯¹æ¯” -->
  <section id="s2" class="section-content">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 animate-fade-in-up">è–„æ•°æ® vs åšæ•°æ®</h2>
      <p class="text-lg text-muted animate-fade-in-up-delay-1">ç†è§£æ•°æ®çš„ä¸åŒç»´åº¦ä¸ä»·å€¼</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16">
      <!-- è–„æ•°æ® -->
      <div class="glass-effect rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-500 animate-fade-in-up">
        <div class="flex items-center mb-6">
          <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-4 animate-pulse-soft">
            <span class="text-blue-600 font-bold text-xl">è–„</span>
          </div>
          <h3 class="text-2xl font-bold">è–„æ•°æ®ï¼ˆé‡åŒ–ï¼‰</h3>
        </div>
        <p class="text-muted mb-6">ç»“æ„åŒ–ã€å¯åº¦é‡ã€é€‚åˆå®æ—¶ç›‘æ§ä¸æŒ‡æ ‡åˆ†æ</p>
        <div class="space-y-3">
          <div class="flex items-center space-x-3 animate-fade-in-up">
            <span class="w-2 h-2 rounded-full bg-blue-400"></span>
            <span>æ ‡å‡†åŒ–æ•°æ®æ ¼å¼</span>
          </div>
          <div class="flex items-center space-x-3 animate-fade-in-up-delay-1">
            <span class="w-2 h-2 rounded-full bg-blue-400"></span>
            <span>ç»Ÿè®¡åˆ†æå‹å¥½</span>
          </div>
          <div class="flex items-center space-x-3 animate-fade-in-up-delay-2">
            <span class="w-2 h-2 rounded-full bg-blue-400"></span>
            <span>å®æ—¶ç›‘æ§æ”¯æŒ</span>
          </div>
        </div>
      </div>

      <!-- åšæ•°æ® -->
      <div class="glass-effect rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-500 animate-fade-in-up-delay-1">
        <div class="flex items-center mb-6">
          <div class="w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center mr-4 animate-pulse-soft">
            <span class="text-orange-600 font-bold text-xl">åš</span>
          </div>
          <h3 class="text-2xl font-bold">åšæ•°æ®ï¼ˆè¯­ä¹‰ + ç»éªŒï¼‰</h3>
        </div>
        <p class="text-muted mb-6">è®¿è°ˆè¯­ä¹‰ã€æƒ…æ„Ÿè½¨è¿¹ã€æ–‡åŒ–èƒŒæ™¯â€”â€”æ›´æ¥è¿‘äººç±»ç†è§£å±‚é¢</p>
        <div class="space-y-3">
          <div class="flex items-center space-x-3 animate-fade-in-up">
            <span class="w-2 h-2 rounded-full bg-orange-400"></span>
            <span>è´¨æ€§æ·±åº¦æ´å¯Ÿ</span>
          </div>
          <div class="flex items-center space-x-3 animate-fade-in-up-delay-1">
            <span class="w-2 h-2 rounded-full bg-orange-400"></span>
            <span>æƒ…å¢ƒåŒ–ç†è§£</span>
          </div>
          <div class="flex items-center space-x-3 animate-fade-in-up-delay-2">
            <span class="w-2 h-2 rounded-full bg-orange-400"></span>
            <span>æ–‡åŒ–èƒŒæ™¯æ•´åˆ</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ç¬¬3éƒ¨åˆ†ï¼šè®¤çŸ¥é˜¶æ¢¯ -->
  <section id="s3" class="section-content">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 animate-fade-in-up">çŸ¥è¯† â†’ ç†è§£ â†’ æ™ºæ…§</h2>
      <p class="text-lg text-muted animate-fade-in-up-delay-1">äº”çº§å°é˜¶ï¼šæ•°æ® â†’ ä¿¡æ¯ â†’ çŸ¥è¯† â†’ ç†è§£ â†’ æ™ºæ…§</p>
    </div>

    <div class="max-w-4xl mx-auto">
      <div class="space-y-8">
        <!-- æ•°æ®é˜¶æ®µ -->
        <div class="glass-effect rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 cursor-pointer animate-fade-in-up" 
             onclick="toggleStep('data')"
             aria-expanded="false"
             aria-controls="dataStep">
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center mr-4 animate-pulse-soft">
                <span class="text-gray-600 font-bold">1</span>
              </div>
              <h3 class="text-xl font-bold">æ•°æ®</h3>
            </div>
            <span class="text-muted">æ ‡å‡†åŒ–ã€ä¼ æ„Ÿå™¨ã€ç»Ÿè®¡</span>
          </div>
          <div id="dataStep" class="hidden mt-4 pl-14 animate-fade-in-up">
            <p class="text-muted mb-3">ç¤ºä¾‹ï¼šä¼ æ„Ÿå™¨ RT æ•°æ®ã€ç»“æ„åŒ–æ—¥å¿—ã€æ¨¡å‹è¾“å‡º</p>
            <div class="bg-gray-50 rounded-lg p-4 text-sm animate-fade-in-up-delay-1">
              <code>æ¸©åº¦: 25Â°C, æ¹¿åº¦: 60%, å‹åŠ›: 1013hPa</code>
            </div>
          </div>
        </div>

        <!-- ä¿¡æ¯é˜¶æ®µ -->
        <div class="glass-effect rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 cursor-pointer animate-fade-in-up-delay-1"
             onclick="toggleStep('information')"
             aria-expanded="false"
             aria-controls="informationStep">
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full bg-blue-200 flex items-center justify-center mr-4 animate-pulse-soft">
                <span class="text-blue-600 font-bold">2</span>
              </div>
              <h3 class="text-xl font-bold">ä¿¡æ¯</h3>
            </div>
            <span class="text-muted">å›¾è¡¨åŒ–ã€èšç±»ã€å…³è”</span>
          </div>
          <div id="informationStep" class="hidden mt-4 pl-14">
            <p class="text-muted mb-3">ç¤ºä¾‹ï¼šèšç±»åˆ†æã€è¶‹åŠ¿æ£€æµ‹ã€åˆ†ç¾¤ç”»åƒ</p>
            <div class="bg-blue-50 rounded-lg p-4 chart-container">
              <canvas id="infoChart" width="400" height="100"></canvas>
            </div>
          </div>
        </div>

        <!-- çŸ¥è¯†é˜¶æ®µ -->
        <div class="glass-effect rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 cursor-pointer animate-fade-in-up-delay-2"
             onclick="toggleStep('knowledge')"
             aria-expanded="false"
             aria-controls="knowledgeStep">
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full bg-green-200 flex items-center justify-center mr-4 animate-pulse-soft">
                <span class="text-green-600 font-bold">3</span>
              </div>
              <h3 class="text-xl font-bold">çŸ¥è¯†</h3>
            </div>
            <span class="text-muted">ä¸»/å®¢è§‚ç»¼åˆã€æƒ…å¢ƒè§£é‡Š</span>
          </div>
          <div id="knowledgeStep" class="hidden mt-4 pl-14 animate-fade-in-up">
            <p class="text-muted mb-3">ç¤ºä¾‹ï¼šè¯­ä¹‰ç½‘ç»œã€å› æœå‡è®¾ã€æƒ…å¢ƒè§„åˆ™</p>
            <div class="bg-green-50 rounded-lg p-4 animate-fade-in-up-delay-1">
              <div class="text-sm space-y-2">
                <div>â€¢ å¦‚æœæ¸©åº¦ > 30Â°C ä¸”æ¹¿åº¦ > 70%ï¼Œåˆ™èˆ’é€‚åº¦é™ä½</div>
                <div>â€¢ ç©ºè°ƒä½¿ç”¨é«˜å³°æœŸï¼š14:00-18:00</div>
              </div>
            </div>
          </div>
        </div>

        <!-- ç†è§£é˜¶æ®µ -->
        <div class="glass-effect rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 cursor-pointer animate-fade-in-up-delay-3"
             onclick="toggleStep('understanding')"
             aria-expanded="false"
             aria-controls="understandingStep">
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full bg-purple-200 flex items-center justify-center mr-4 animate-pulse-soft">
                <span class="text-purple-600 font-bold">4</span>
              </div>
              <h3 class="text-xl font-bold">ç†è§£</h3>
            </div>
            <span class="text-muted">æ–‡åŒ–ä¸æ„Ÿå—ç»“åˆ</span>
          </div>
          <div id="understandingStep" class="hidden mt-4 pl-14 animate-fade-in-up">
            <p class="text-muted mb-3">ç¤ºä¾‹ï¼šæ¡ˆä¾‹æ²‰æµ¸ã€è¯­ä¹‰å…±é¸£</p>
            <div class="bg-purple-50 rounded-lg p-4 animate-fade-in-up-delay-1">
              <div class="text-sm">
                <p>"ç”¨æˆ·åœ¨é«˜æ¸©å¤©æ°”ä¸‹æ›´å€¾å‘äºä½¿ç”¨ç§»åŠ¨åº”ç”¨è¿›è¡Œè¿œç¨‹æ§åˆ¶ï¼Œä½“ç°äº†å¯¹ä¾¿æ·æ€§çš„è¿½æ±‚å’Œå¯¹ç¯å¢ƒèˆ’é€‚åº¦çš„é‡è§†ã€‚"</p>
              </div>
            </div>
          </div>
        </div>

        <!-- æ™ºæ…§é˜¶æ®µ -->
        <div class="glass-effect rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 cursor-pointer animate-fade-in-up"
             onclick="toggleStep('wisdom')"
             aria-expanded="false"
             aria-controls="wisdomStep">
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full bg-orange-200 flex items-center justify-center mr-4 animate-pulse-soft">
                <span class="text-orange-600 font-bold">5</span>
              </div>
              <h3 class="text-xl font-bold">æ™ºæ…§</h3>
            </div>
            <span class="text-muted">å“²å­¦æ•´åˆ / äººæœºå…±æ™º</span>
          </div>
          <div id="wisdomStep" class="hidden mt-4 pl-14 animate-fade-in-up">
            <p class="text-muted mb-3">ç¤ºä¾‹ï¼šç­–ç•¥å‰ç»ã€äººæœºååŒå†³ç­–æç¤º</p>
            <div class="bg-orange-50 rounded-lg p-4 animate-fade-in-up-delay-1">
              <div class="text-sm">
                <p>"å»ºè®®åœ¨é«˜æ¸©å­£èŠ‚æ¨å‡ºæ™ºèƒ½é¢„è°ƒèŠ‚åŠŸèƒ½ï¼Œç»“åˆç”¨æˆ·è¡Œä¸ºæ¨¡å¼å’Œå¤©æ°”é¢„æŠ¥ï¼Œæå‰ä¼˜åŒ–ç¯å¢ƒèˆ’é€‚åº¦ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚"</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ç¬¬4éƒ¨åˆ†ï¼šåº”ç”¨åœºæ™¯ -->
  <section id="s4" class="section-content">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 animate-fade-in-up">å®é™…åº”ç”¨</h2>
      <p class="text-lg text-muted animate-fade-in-up-delay-1">åšæ•°æ®åœ¨å„ä¸ªé¢†åŸŸçš„å…·ä½“åº”ç”¨</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
      <!-- ç§‘å­¦ç ”ç©¶ -->
      <div class="glass-effect rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-500 animate-fade-in-up">
        <div class="flex items-center mb-6">
          <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mr-4 animate-pulse-soft">
            <span class="text-green-600 font-bold">ğŸ”¬</span>
          </div>
          <h3 class="text-xl font-bold">ç§‘å­¦ç ”ç©¶</h3>
        </div>
        <p class="text-muted mb-4">èåˆå®¢è§‚ä¸å…±äº«çŸ¥è¯†</p>
        <div class="flex items-center justify-between mb-4">
          <span class="text-sm">ç¤ºä¾‹æŒ‡æ ‡ï¼šRÂ²</span>
          <span class="text-sm font-semibold">0.92</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-2 progress-bar">
          <div class="bg-green-400 h-2 rounded-full transition-all duration-1000 ease-out" style="width: 92%"></div>
        </div>
        <button class="mt-4 text-sm text-blue-600 hover:text-blue-800 focus:outline-none focus:underline animated-button"
                onclick="showApplicationDetail('research')"
                aria-expanded="false"
                aria-controls="researchDetail">
          æŸ¥çœ‹è¯¦æƒ…
        </button>
      </div>

      <!-- ç”¨æˆ·ä½“éªŒ -->
      <div class="glass-effect rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-500 animate-fade-in-up-delay-1">
        <div class="flex items-center mb-6">
          <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-4 animate-pulse-soft">
            <span class="text-blue-600 font-bold">ğŸ‘¤</span>
          </div>
          <h3 class="text-xl font-bold">ç”¨æˆ·ä½“éªŒ</h3>
        </div>
        <p class="text-muted mb-4">ä¸»è§‚æ„Ÿå— + åšæ•°æ®</p>
        <div class="flex items-center justify-between mb-4">
          <span class="text-sm">æƒ…æ„Ÿè¯†åˆ«ç²¾åº¦</span>
          <span class="text-sm font-semibold">87%</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-2 progress-bar">
          <div class="bg-blue-400 h-2 rounded-full transition-all duration-1000 ease-out" style="width: 87%"></div>
        </div>
        <button class="mt-4 text-sm text-blue-600 hover:text-blue-800 focus:outline-none focus:underline animated-button"
                onclick="showApplicationDetail('ux')"
                aria-expanded="false"
                aria-controls="uxDetail">
          UX Â· è¯¦æƒ…
        </button>
      </div>

      <!-- æ–‡åŒ–æ´å¯Ÿ -->
      <div class="glass-effect rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-500 animate-fade-in-up-delay-2">
        <div class="flex items-center mb-6">
          <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mr-4 animate-pulse-soft">
            <span class="text-purple-600 font-bold">ğŸŒ</span>
          </div>
          <h3 class="text-xl font-bold">æ–‡åŒ–æ´å¯Ÿ</h3>
        </div>
        <p class="text-muted mb-4">æŒ–æ˜å…±äº«ä¸ç›´è§‰çŸ¥è¯†</p>
        <div class="flex items-center justify-between mb-4">
          <span class="text-sm">è¯é¢˜çƒ­åº¦ä¸Šå‡</span>
          <span class="text-sm font-semibold">32%</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-2 progress-bar">
          <div class="bg-purple-400 h-2 rounded-full transition-all duration-1000 ease-out" style="width: 32%"></div>
        </div>
        <button class="mt-4 text-sm text-blue-600 hover:text-blue-800 focus:outline-none focus:underline animated-button"
                onclick="showApplicationDetail('culture')"
                aria-expanded="false"
                aria-controls="cultureDetail">
          æ–‡åŒ– Â· è¯¦æƒ…
        </button>
      </div>

      <!-- æˆ˜ç•¥åˆ¤æ–­ -->
      <div class="glass-effect rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-500 animate-fade-in-up-delay-3">
        <div class="flex items-center mb-6">
          <div class="w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center mr-4 animate-pulse-soft">
            <span class="text-orange-600 font-bold">ğŸ¯</span>
          </div>
          <h3 class="text-xl font-bold">æˆ˜ç•¥åˆ¤æ–­</h3>
        </div>
        <p class="text-muted mb-4">æ±‡èšå››ç±»çŸ¥è¯†å½¢æˆç­–ç•¥</p>
        <div class="flex items-center justify-between mb-4">
          <span class="text-sm">å½“å‰é£é™©</span>
          <span class="text-sm font-semibold text-green-600 animate-pulse">ä½</span>
        </div>
        <div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-4 animate-pulse-soft">
          <p class="text-xs text-green-700">å»ºè®®è¡¥é‡‡åšæ•°æ®</p>
        </div>
        <button class="mt-4 text-sm text-blue-600 hover:text-blue-800 focus:outline-none focus:underline animated-button"
                onclick="showApplicationDetail('strategy')"
                aria-expanded="false"
                aria-controls="strategyDetail">
          ç­–ç•¥ Â· è¯¦æƒ…
        </button>
      </div>
    </div>

    <!-- è·¯å¾„å¯è§†åŒ–å›¾è¡¨ -->
    <div class="glass-effect rounded-2xl p-8 max-w-5xl mx-auto shadow-lg animate-fade-in-up">
      <h3 class="text-xl font-bold mb-6 text-center">åšæ•°æ®è®¤çŸ¥è¿è¶Šæ›²çº¿</h3>
      <div class="h-80 chart-container" id="cognitiveChartContainer">
        <canvas id="cognitiveChart"></canvas>
      </div>
    </div>
  </section>

  <!-- ç¬¬5éƒ¨åˆ†ï¼šå“²å­¦æ´å¯Ÿ -->
  <section id="s5" class="section-content">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 animate-fade-in-up">å“²å­¦æ´å¯Ÿ</h2>
      <p class="text-lg text-muted animate-fade-in-up-delay-1">æ·±åº¦æ€è€ƒä¸æ™ºæ…§å¯å‘</p>
    </div>

    <div class="max-w-4xl mx-auto">
      <!-- ä¸»è¦æ´å¯Ÿ -->
      <div class="glass-effect rounded-3xl p-12 mb-16 text-center shadow-xl animate-fade-in-up relative overflow-hidden"
           style="min-height: 400px;">
        <!-- èƒŒæ™¯è£…é¥° -->
        <div class="absolute inset-0 bg-gradient-radial from-accent/10 to-transparent animate-pulse-soft"></div>
        
        <!-- å¤šå±‚ç¯å½¢è„‰åŠ¨å¯è§†åŒ–å®¹å™¨ -->
        <div class="absolute inset-0 flex items-center justify-center" id="insightVisualization">
          <!-- æ•°æ®ç¯ï¼ˆè“è‰²ï¼‰- ä»£è¡¨æ•°æ®ç»´åº¦ -->
          <div class="insight-ring data-ring w-64 h-64 animate-pulse-ring" style="animation-delay: 0s;"></div>
          <div class="insight-ring data-ring w-72 h-72 animate-pulse-ring-slow" style="animation-delay: 0.5s;"></div>
          <div class="insight-ring data-ring w-80 h-80 animate-ring-expand" style="animation-delay: 1s;"></div>
          
          <!-- ä½“éªŒç¯ï¼ˆçº¢è‰²ï¼‰- ä»£è¡¨ä½“éªŒç»´åº¦ -->
          <div class="insight-ring experience-ring w-56 h-56 animate-pulse-ring-reverse" style="animation-delay: 0.3s;"></div>
          <div class="insight-ring experience-ring w-64 h-64 animate-pulse-ring-fast" style="animation-delay: 0.8s;"></div>
          <div class="insight-ring experience-ring w-72 h-72 animate-diverge" style="animation-delay: 1.3s;"></div>
          
          <!-- ç›´è§‰ç¯ï¼ˆç»¿è‰²ï¼‰- ä»£è¡¨ç›´è§‰ç»´åº¦ -->
          <div class="insight-ring intuition-ring w-48 h-48 animate-rotate-slow" style="animation-delay: 0.6s;"></div>
          <div class="insight-ring intuition-ring w-56 h-56 animate-converge" style="animation-delay: 1.1s;"></div>
          <div class="insight-ring intuition-ring w-64 h-64 animate-rotate-fast" style="animation-delay: 1.6s;"></div>
          
          <!-- è¿æ¥å…‰æŸ -->
          <div class="connection-beam absolute top-1/2 left-0 w-full transform -translate-y-1/2" style="animation-delay: 0s;"></div>
          <div class="connection-beam absolute top-0 left-1/2 h-full transform -translate-x-1/2" style="animation-delay: 1s;"></div>
          <div class="connection-beam absolute top-1/2 left-0 w-full transform -translate-y-1/2 rotate-45" style="animation-delay: 0.5s;"></div>
          <div class="connection-beam absolute top-1/2 left-0 w-full transform -translate-y-1/2 -rotate-45" style="animation-delay: 1.5s;"></div>
          
          <!-- æ•´åˆæ ¸å¿ƒ -->
          <div class="integrated-core w-32 h-32 flex items-center justify-center z-10">
            <div class="text-center">
              <div class="w-4 h-4 rounded-full bg-accent mx-auto mb-2 animate-pulse"></div>
              <span class="text-xs font-semibold text-gray-600">æœ‰æœºç»Ÿä¸€</span>
            </div>
          </div>
        </div>
        
        <!-- æ–‡æœ¬å†…å®¹ -->
        <div class="relative z-20">
          <blockquote class="text-2xl md:text-3xl font-light italic text-gray-700 mb-8 animate-fade-in-up">
            "è®¤çŸ¥çš„å®Œæ•´æ€§èƒœè¿‡çŸ¥è¯†çš„å•ä¸€æ€§"
          </blockquote>
          <p class="text-muted text-lg animate-fade-in-up-delay-1">å¤šå±‚ç¯å½¢è„‰åŠ¨å‘ˆç°æ•°æ®/ä½“éªŒ/ç›´è§‰çš„æœ‰æœºç»Ÿä¸€</p>
          
          <!-- ç»´åº¦æ ‡ç­¾ -->
          <div class="flex justify-center space-x-8 mt-12 animate-fade-in-up-delay-2">
            <div class="flex items-center space-x-2">
              <span class="w-3 h-3 rounded-full bg-data animate-pulse"></span>
              <span class="text-sm text-gray-600">æ•°æ®ç»´åº¦</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="w-3 h-3 rounded-full bg-experience animate-pulse"></span>
              <span class="text-sm text-gray-600">ä½“éªŒç»´åº¦</span>
            </div>
            <div class="flex items-center space-x-2">
              <span class="w-3 h-3 rounded-full bg-intuition animate-pulse"></span>
              <span class="text-sm text-gray-600">ç›´è§‰ç»´åº¦</span>
            </div>
          </div>
        </div>
      </div>

      <!-- çœŸæ­£çš„ç®¡ç†æ™ºæ…§ -->
      <div class="glass-effect rounded-2xl p-8 shadow-lg mb-16 animate-fade-in-up-delay-2">
        <h3 class="text-2xl font-bold mb-6 text-center">çœŸæ­£çš„ç®¡ç†æ™ºæ…§</h3>
        <div class="prose max-w-none">
          <p class="text-lg leading-relaxed text-center mb-8 animate-fade-in-up">
            æ¥è‡ªåšæ•°æ®ä¸å¤šå…ƒçŸ¥è¯†çš„æ•´åˆåº”ç”¨ï¼šäººæœºå…±æ™ºã€ä¼¦ç†æ€è€ƒä¸æƒ…å¢ƒåŒ–åˆ¤æ–­
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
            <div class="text-center p-6 bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 animate-fade-in-up">
              <div class="w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mx-auto mb-4 animate-pulse-soft">
                <span class="text-blue-600 text-2xl">ğŸ¤</span>
              </div>
              <h4 class="font-bold mb-2">äººæœºå…±æ™º</h4>
              <p class="text-sm text-muted">ç®—æ³•ä¸äººç±»æ™ºæ…§çš„å®Œç¾ç»“åˆ</p>
            </div>
            
            <div class="text-center p-6 bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 animate-fade-in-up-delay-1">
              <div class="w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4 animate-pulse-soft">
                <span class="text-green-600 text-2xl">âš–ï¸</span>
              </div>
              <h4 class="font-bold mb-2">ä¼¦ç†æ€è€ƒ</h4>
              <p class="text-sm text-muted">æ•°æ®åº”ç”¨çš„é“å¾·ä¸ç¤¾ä¼šè´£ä»»</p>
            </div>
            
            <div class="text-center p-6 bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 animate-fade-in-up-delay-2">
              <div class="w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-4 animate-pulse-soft">
                <span class="text-purple-600 text-2xl">ğŸ¯</span>
              </div>
              <h4 class="font-bold mb-2">æƒ…å¢ƒåˆ¤æ–­</h4>
              <p class="text-sm text-muted">åŸºäºå…·ä½“ç¯å¢ƒçš„æ™ºæ…§å†³ç­–</p>
            </div>
          </div>
        </div>
      </div>

      <!-- è¡ŒåŠ¨æŒ‡å— -->
      <div class="glass-effect rounded-2xl p-8 shadow-lg animate-fade-in-up-delay-3">
        <h3 class="text-xl font-bold mb-6 text-center">è¡ŒåŠ¨æŒ‡å—</h3>
        <div class="space-y-4">
          <div class="flex items-start space-x-4 animate-fade-in-up">
            <div class="w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-bold text-sm flex-shrink-0 mt-1 animate-pulse-soft">1</div>
            <div>
              <h4 class="font-bold mb-1">å»ºç«‹åšæ•°æ®æ”¶é›†æœºåˆ¶</h4>
              <p class="text-sm text-muted">è®¾è®¡å¤šç»´åº¦çš„æ•°æ®é‡‡é›†æ–¹æ³•ï¼ŒåŒ…æ‹¬å®šé‡å’Œå®šæ€§æ•°æ®</p>
            </div>
          </div>
          
          <div class="flex items-start space-x-4 animate-fade-in-up-delay-1">
            <div class="w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-bold text-sm flex-shrink-0 mt-1 animate-pulse-soft">2</div>
            <div>
              <h4 class="font-bold mb-1">æ„å»ºçŸ¥è¯†æ•´åˆå¹³å°</h4>
              <p class="text-sm text-muted">åˆ›å»ºèƒ½å¤Ÿèåˆå››ç±»çŸ¥è¯†çš„æ™ºèƒ½ç³»ç»Ÿ</p>
            </div>
          </div>
          
          <div class="flex items-start space-x-4 animate-fade-in-up-delay-2">
            <div class="w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-bold text-sm flex-shrink-0 mt-1 animate-pulse-soft">3</div>
            <div>
              <h4 class="font-bold mb-1">åŸ¹å…»è·¨å­¦ç§‘æ€ç»´</h4>
              <p class="text-sm text-muted">é¼“åŠ±å›¢é˜Ÿæˆå‘˜ä»ä¸åŒè§’åº¦æ€è€ƒé—®é¢˜</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ç¬¬6éƒ¨åˆ†ï¼šç”¨æˆ·è¯„è®ºï¼ˆæ–°å¢ï¼‰ -->
  <section id="s6" class="section-content">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 animate-fade-in-up">ç”¨æˆ·è¯„è®º</h2>
      <p class="text-lg text-muted animate-fade-in-up-delay-1">åˆ†äº«æ‚¨å¯¹åšæ•°æ®å†³ç­–æ™ºæ…§çš„è§è§£å’Œä½“éªŒ</p>
    </div>

    <div class="max-w-4xl mx-auto">
      <!-- è¯„è®ºåŒº -->
      <div class="comment-section animate-fade-in-up">
        <!-- è¯„è®ºè¡¨å• -->
        <div class="comment-form animate-fade-in-up-delay-1">
          <h3 class="text-xl font-bold mb-4 text-center">å‘è¡¨è¯„è®º</h3>
          <div class="space-y-4">
            <div>
              <label for="commentAuthor" class="block text-sm font-medium text-gray-700 mb-2">æ˜µç§°</label>
              <input type="text" id="commentAuthor" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all duration-300" placeholder="è¯·è¾“å…¥æ‚¨çš„æ˜µç§°" required>
            </div>
            <div>
              <label for="commentContent" class="block text-sm font-medium text-gray-700 mb-2">è¯„è®ºå†…å®¹</label>
              <textarea id="commentContent" class="comment-input" placeholder="åˆ†äº«æ‚¨çš„è§è§£ã€é—®é¢˜æˆ–å»ºè®®..." required></textarea>
            </div>
            <div class="text-center">
              <button onclick="submitComment()" class="px-6 py-3 bg-accent text-white rounded-lg hover:bg-accent/90 transition-all duration-300 transform hover:scale-105 shadow-lg animated-button">
                å‘è¡¨è¯„è®º
              </button>
            </div>
          </div>
        </div>

        <!-- è¯„è®ºåˆ—è¡¨ -->
        <div class="comment-list" id="commentList">
          <!-- è¯„è®ºå°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
          <div class="no-comments" id="noCommentsMessage">
            <p>æš‚æ— è¯„è®ºï¼Œå¿«æ¥å‘è¡¨æ‚¨çš„è§è§£å§ï¼</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- è¯¦æƒ…æ¨¡æ€æ¡† -->
<div id="detailModal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" aria-hidden="true">
  <div class="glass-effect rounded-2xl p-8 max-w-2xl max-h-[80vh] overflow-y-auto shadow-2xl modal-card" role="dialog" aria-modal="true">
    <div class="flex justify-between items-center mb-6">
      <h3 id="modalTitle" class="text-2xl font-bold"></h3>
      <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 focus:outline-none animated-button" aria-label="å…³é—­">
        <span class="text-xl">&times;</span>
      </button>
    </div>
    <div id="modalContent"></div>
  </div>
</div>

<!-- JavaScript -->
<script>
// å…¨å±€å˜é‡
let cognitiveChart = null;
let infoChart = null;
let comments = [];

// Firebase é…ç½®å’Œåˆå§‹åŒ– (å·²åœ¨æ–‡ä»¶é¡¶éƒ¨åˆå§‹åŒ–)
// ä½¿ç”¨å…¨å±€å˜é‡è®¿é—®Firebaseå®ä¾‹
const database = window.firebaseDatabase;
console.log("Firebase å®æ—¶æ•°æ®åº“è¿æ¥å·²åˆå§‹åŒ–")

// æµ‹è¯•æ•°æ®åº“è¯»å†™å‡½æ•°
function testDatabase() {
  // å†™å…¥æµ‹è¯•æ•°æ®
  const testRef = window.firebaseRef(database, 'test');
  window.firebaseSet(testRef, {
    timestamp: window.firebaseServerTimestamp(),
    message: 'æ•°æ®åº“è¿æ¥æµ‹è¯•'
  }).then(() => {
    console.log("æ•°æ®å†™å…¥æˆåŠŸ");
    showNotification("Firebaseæ•°æ®åº“è¿æ¥å¹¶å†™å…¥æˆåŠŸ", 'success');
    
    // è¯»å–æµ‹è¯•æ•°æ®
    window.firebaseGet(testRef).then((snapshot) => {
      if (snapshot.exists()) {
        console.log("è¯»å–åˆ°çš„æ•°æ®:", snapshot.val());
      } else {
        console.log("æ²¡æœ‰æ‰¾åˆ°æ•°æ®");
      }
    }).catch((error) => {
      console.error("è¯»å–æ•°æ®å¤±è´¥:", error);
      showNotification("è¯»å–æ•°æ®å¤±è´¥: " + error.message, 'error');
    });
  }).catch((error) => {
    console.error("å†™å…¥æ•°æ®å¤±è´¥:", error);
    showNotification("è¿æ¥æ•°æ®åº“å¤±è´¥: " + error.message, 'error');
  });
}

// DOM åŠ è½½å®Œæˆååˆå§‹åŒ–ï¼ˆåˆå¹¶ä¸ºä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼‰
document.addEventListener('DOMContentLoaded', function() {
  console.log('DOM åŠ è½½å®Œæˆï¼Œå¼€å§‹åˆå§‹åŒ–...');
  
  // ç¡®ä¿ç¬¬ä¸€ä¸ªsectionå¯è§
  const firstSection = document.getElementById('s1');
  if (firstSection) {
    firstSection.style.display = 'block';
    firstSection.classList.add('active');
  }
  
  // åˆå§‹åŒ–æ‰€æœ‰åŠŸèƒ½
  initializeNavigation();
  initializeCharts();
  setTimeout(() => {
    initializeConnections();
  }, 300); // å»¶è¿Ÿåˆå§‹åŒ–è¿æ¥çº¿ï¼Œç¡®ä¿DOMå®Œå…¨æ¸²æŸ“
  initializeScrollSpy();
  addKeyboardSupport();
  createParticles();
  createDynamicRings(); // æ·»åŠ åŠ¨æ€ç”Ÿæˆçš„ç¯å½¢
  loadComments(); // åŠ è½½è¯„è®º
  
  // å»¶è¿Ÿæ‰§è¡Œæ•°æ®åº“æµ‹è¯•ä»¥ç¡®ä¿æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ
  setTimeout(testDatabase, 1000);
  
  console.log('åˆå§‹åŒ–å®Œæˆ');
});

// æ‰‹åŠ¨æµ‹è¯•å¯¼èˆªåŠŸèƒ½ - å¢å¼ºç‰ˆï¼Œæ”¯æŒè¿ç»­æµ‹è¯•å¤šä¸ªæ¿å—
function testNavigation(testAll = false) {
  console.log('===== å¼€å§‹æ‰‹åŠ¨æµ‹è¯•å¯¼èˆªåŠŸèƒ½ =====');
  console.log('æµ‹è¯•æ¨¡å¼:', testAll ? 'è¿ç»­æµ‹è¯•æ‰€æœ‰æ¿å—' : 'éšæœºæµ‹è¯•å•ä¸ªæ¿å—');
  
  // æ‰€æœ‰å¯æµ‹è¯•çš„æ¿å—
  const allSections = ['s1', 's2', 's3', 's4', 's5', 's6'];
  
  // éªŒè¯navigateToSectionå‡½æ•°æ˜¯å¦å­˜åœ¨
  if (typeof navigateToSection !== 'function') {
    console.error('é”™è¯¯: navigateToSectionå‡½æ•°æœªå®šä¹‰');
    return false;
  }
  
  // éªŒè¯å¯¼èˆªå…ƒç´ æ˜¯å¦å­˜åœ¨
  const navElements = document.querySelectorAll('.nav-dot, .nav-btn');
  console.log('é¡µé¢ä¸Šçš„å¯¼èˆªå…ƒç´ æ•°é‡:', navElements.length);
  if (navElements.length === 0) {
    console.error('æœªæ‰¾åˆ°ä»»ä½•å¯¼èˆªå…ƒç´ (.nav-dotæˆ–.nav-btn)');
  }
  
  // éªŒè¯sectionå…ƒç´ æ˜¯å¦å­˜åœ¨
  const sectionElements = document.querySelectorAll('.section-content');
  console.log('é¡µé¢ä¸Šçš„sectionå…ƒç´ æ•°é‡:', sectionElements.length);
  
  if (testAll) {
    // è¿ç»­æµ‹è¯•æ‰€æœ‰æ¿å—
    console.log('å¼€å§‹è¿ç»­æµ‹è¯•æ‰€æœ‰æ¿å—...');
    let currentIndex = 0;
    
    const testNextSection = () => {
      if (currentIndex >= allSections.length) {
        console.log('===== æ‰€æœ‰æ¿å—æµ‹è¯•å®Œæˆ =====');
        console.log('æç¤º: æ‚¨å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ testNavigation() è¿›è¡Œéšæœºæµ‹è¯•ï¼Œæˆ–è¾“å…¥ testNavigation(true) å†æ¬¡æµ‹è¯•æ‰€æœ‰æ¿å—ã€‚');
        return;
      }
      
      const sectionId = allSections[currentIndex];
      console.log(`\næµ‹è¯•å¯¼èˆªåˆ°æ¿å— ${currentIndex + 1}/${allSections.length}: ${sectionId}`);
      
      try {
        navigateToSection(sectionId);
        console.log(`æ¿å— ${sectionId} æµ‹è¯•æˆåŠŸ`);
        currentIndex++;
        
        // å»¶è¿Ÿ2ç§’åæµ‹è¯•ä¸‹ä¸€ä¸ªæ¿å—
        setTimeout(testNextSection, 2000);
      } catch (error) {
        console.error(`æ¿å— ${sectionId} æµ‹è¯•å¤±è´¥:`, error);
        // å³ä½¿å¤±è´¥ä¹Ÿç»§ç»­æµ‹è¯•ä¸‹ä¸€ä¸ª
        currentIndex++;
        setTimeout(testNextSection, 1000);
      }
    };
    
    // å¼€å§‹æµ‹è¯•
    testNextSection();
  } else {
    // éšæœºæµ‹è¯•å•ä¸ªæ¿å—
    const randomIndex = Math.floor(Math.random() * allSections.length);
    const testSection = allSections[randomIndex];
    
    console.log('éšæœºæµ‹è¯•å¯¼èˆªåˆ°:', testSection);
    try {
      navigateToSection(testSection);
      console.log('å¯¼èˆªæµ‹è¯•æˆåŠŸ');
      console.log('\næç¤º:');
      console.log('- è¾“å…¥ testNavigation() å†æ¬¡éšæœºæµ‹è¯•ä¸€ä¸ªæ¿å—');
      console.log('- è¾“å…¥ testNavigation(true) æµ‹è¯•æ‰€æœ‰æ¿å—');
      console.log('- è¾“å…¥ navigateToSection("s2") ç›´æ¥å¯¼èˆªåˆ°ç‰¹å®šæ¿å—');
    } catch (error) {
      console.error('å¯¼èˆªæµ‹è¯•å¤±è´¥:', error);
      console.log('å°è¯•ä½¿ç”¨å¤‡ç”¨æ–¹æ³•...');
      
      // å¤‡ç”¨å¯¼èˆªæ–¹æ³•
      try {
        const section = document.getElementById(testSection);
        if (section) {
          // ç›´æ¥æ˜¾ç¤ºç›®æ ‡section
          const allSections = document.querySelectorAll('.section-content');
          allSections.forEach(s => s.style.display = 'none');
          section.style.display = 'block';
          section.classList.add('active');
          console.log('å¤‡ç”¨å¯¼èˆªæ–¹æ³•æˆåŠŸ');
        }
      } catch (fallbackError) {
        console.error('å¤‡ç”¨å¯¼èˆªæ–¹æ³•ä¹Ÿå¤±è´¥:', fallbackError);
      }
    }
  }
  
  return true;
}

// åˆå§‹åŒ–å¯¼èˆªç³»ç»Ÿ - å¢å¼ºç‰ˆ
function initializeNavigation() {
  console.log('===== åˆå§‹åŒ–å¯¼èˆªç³»ç»Ÿ =====');
  
  try {
    // éªŒè¯å¿…è¦å‡½æ•°æ˜¯å¦å­˜åœ¨
    if (typeof navigateToSection !== 'function' || typeof updateNavigation !== 'function') {
      console.error('é”™è¯¯: ç¼ºå°‘å¿…è¦çš„å¯¼èˆªå‡½æ•°');
      return false;
    }
    
    // æŸ¥æ‰¾æ‰€æœ‰å¯¼èˆªå…ƒç´ 
    const navDots = document.querySelectorAll('.nav-dot[data-target]');
    const navBtns = document.querySelectorAll('.nav-btn[data-target]');
    
    console.log('æ‰¾åˆ°çš„å¯¼èˆªç‚¹æ•°é‡:', navDots.length);
    console.log('æ‰¾åˆ°çš„å¯¼èˆªæŒ‰é’®æ•°é‡:', navBtns.length);
    
    // éªŒè¯æ˜¯å¦æœ‰å¯¼èˆªå…ƒç´ 
    if (navDots.length === 0 && navBtns.length === 0) {
      console.error('æœªæ‰¾åˆ°ä»»ä½•æœ‰æ•ˆçš„å¯¼èˆªå…ƒç´ (å¸¦data-targetå±æ€§)');
      // å¤‡ç”¨æ–¹æ¡ˆ: å°è¯•æŸ¥æ‰¾ä¸å¸¦data-targetçš„å¯¼èˆªå…ƒç´ 
      const fallbackNavs = document.querySelectorAll('.nav-dot, .nav-btn');
      if (fallbackNavs.length > 0) {
        console.warn(`æ‰¾åˆ°${fallbackNavs.length}ä¸ªå¯èƒ½çš„å¯¼èˆªå…ƒç´ ï¼Œä½†æ²¡æœ‰data-targetå±æ€§`);
      }
      return false;
    }
    
    // å¤„ç†å¯¼èˆªå…ƒç´ çš„é€šç”¨å‡½æ•°
    const processNavElement = (element, type) => {
      // éªŒè¯å…ƒç´ å’Œdata-targetå±æ€§
      if (!element || !element.hasAttribute('data-target')) {
        console.warn(`${type}å…ƒç´ æ— æ•ˆ:`, element);
        return;
      }
      
      const targetId = element.getAttribute('data-target');
      
      // éªŒè¯ç›®æ ‡IDæ˜¯å¦å­˜åœ¨
      const targetSection = document.getElementById(targetId);
      if (!targetSection) {
        console.warn(`${type}å…ƒç´ ç›®æ ‡ä¸å­˜åœ¨:`, targetId);
      }
      
      // ä½¿ç”¨æ›´å®‰å…¨çš„äº‹ä»¶ç»‘å®šæ–¹æ³• - å…ˆç§»é™¤å†æ·»åŠ 
      // ç§»é™¤æ‰€æœ‰ç°æœ‰äº‹ä»¶ç›‘å¬å™¨çš„æ›´å¯é æ–¹å¼
      const newElement = element.cloneNode(true);
      if (element.parentNode) {
        element.parentNode.replaceChild(newElement, element);
      }
      
      // æ·»åŠ æ–°çš„äº‹ä»¶ç›‘å¬å™¨
      newElement.addEventListener('click', (event) => {
        // é˜»æ­¢é»˜è®¤è¡Œä¸ºå’Œå†’æ³¡
        event.preventDefault();
        event.stopPropagation();
        
        console.log(`ç‚¹å‡»${type}ï¼Œç›®æ ‡ID:`, targetId);
        
        // ç›´æ¥è°ƒç”¨å¯¼èˆªå‡½æ•°
        try {
          navigateToSection(targetId);
        } catch (error) {
          console.error(`å¯¼èˆªåˆ°${targetId}å¤±è´¥:`, error);
        }
      });
      
      // é”®ç›˜æ”¯æŒ - ç¡®ä¿å¯¼èˆªå…ƒç´ å¯è®¿é—®
      newElement.setAttribute('tabindex', '0');
      newElement.setAttribute('role', 'button');
      
      newElement.addEventListener('keydown', function(event) {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          try {
            this.click();
          } catch (err) {
            console.error(`é”®ç›˜å¯¼èˆªåˆ°${targetId}å¤±è´¥:`, err);
          }
        }
      });
      
      console.log(`æˆåŠŸç»‘å®š${type}äº‹ä»¶:`, targetId);
    };
    
    // å¤„ç†æ‰€æœ‰å¯¼èˆªç‚¹
    navDots.forEach((dot, index) => {
      processNavElement(dot, `å¯¼èˆªç‚¹[${index}]`);
    });
    
    // å¤„ç†æ‰€æœ‰å¯¼èˆªæŒ‰é’®
    navBtns.forEach((btn, index) => {
      processNavElement(btn, `å¯¼èˆªæŒ‰é’®[${index}]`);
    });
    
    // è®¾ç½®é»˜è®¤æ˜¾ç¤ºçš„section
    setTimeout(() => {
      try {
        // ç¡®ä¿é»˜è®¤sectionå­˜åœ¨
        const defaultSection = document.getElementById('s1');
        if (defaultSection) {
          updateNavigation('s1');
          console.log('é»˜è®¤å¯¼èˆªçŠ¶æ€è®¾ç½®å®Œæˆ - æ˜¾ç¤ºs1');
        } else {
          console.warn('é»˜è®¤section(s1)ä¸å­˜åœ¨ï¼Œå°è¯•ä½¿ç”¨ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„section');
          const firstSection = document.querySelector('.section-content');
          if (firstSection) {
            updateNavigation(firstSection.id);
            console.log(`å·²è®¾ç½®é»˜è®¤å¯¼èˆªåˆ°ç¬¬ä¸€ä¸ªsection: ${firstSection.id}`);
          }
        }
      } catch (error) {
        console.error('è®¾ç½®é»˜è®¤å¯¼èˆªçŠ¶æ€å¤±è´¥:', error);
      }
    }, 100);
    
    console.log('å¯¼èˆªç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ');
    return true;
  } catch (error) {
    console.error('å¯¼èˆªç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥:', error);
    
    // å¤‡ç”¨åˆå§‹åŒ–æ–¹æ³•
    try {
      console.log('å°è¯•å¤‡ç”¨åˆå§‹åŒ–æ–¹æ³•...');
      const firstSection = document.querySelector('.section-content');
      if (firstSection) {
        firstSection.style.display = 'block';
        firstSection.classList.add('active');
        console.log('å¤‡ç”¨åˆå§‹åŒ–æˆåŠŸ: æ˜¾ç¤ºç¬¬ä¸€ä¸ªsection');
      }
    } catch (fallbackError) {
      console.error('å¤‡ç”¨åˆå§‹åŒ–æ–¹æ³•ä¹Ÿå¤±è´¥:', fallbackError);
    }
    
    return false;
  }
}

// æ»šåŠ¨ç›‘å¬
function initializeScrollSpy() {
  window.addEventListener('scroll', debounce(function() {
    const sections = document.querySelectorAll('.section-content');
    let currentSection = '';
    
    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.clientHeight;
      
      if (window.pageYOffset >= sectionTop - 200 && 
          window.pageYOffset < sectionTop + sectionHeight - 200) {
        currentSection = section.id;
      }
    });
    
    if (currentSection) {
      updateNavigation(currentSection);
    }
  }, 100));
}

// å¯¼èˆªåˆ°æŒ‡å®šéƒ¨åˆ† - ä¿®å¤ç‰ˆ
function navigateToSection(targetId) {
  console.log('===== å¼€å§‹å¯¼èˆªåˆ°section:', targetId, '=====');
  
  try {
    // ç«‹å³æ»šåŠ¨åˆ°é¡¶éƒ¨
    window.scrollTo({ top: 0, behavior: 'auto' });
    
    // éªŒè¯targetIdå‚æ•°
    if (!targetId || typeof targetId !== 'string') {
      console.error('æ— æ•ˆçš„targetIdå‚æ•°:', targetId);
      return;
    }
    
    // æŸ¥æ‰¾æ‰€æœ‰sectionå…ƒç´ 
    const allSections = document.querySelectorAll('.section-content');
    console.log('æ‰¾åˆ°çš„sectionæ•°é‡:', allSections.length);
    
    if (allSections.length === 0) {
      console.error('æœªæ‰¾åˆ°ä»»ä½•.section-contentå…ƒç´ ');
      return;
    }
    
    // å…ˆéšè—æ‰€æœ‰section
    allSections.forEach(section => {
      console.log('éšè—section:', section.id);
      section.classList.remove('active');
      section.style.display = 'none';
    });
    
    // æŸ¥æ‰¾å¹¶æ˜¾ç¤ºç›®æ ‡section
    const targetSection = document.getElementById(targetId);
    
    if (!targetSection) {
      console.error('æœªæ‰¾åˆ°ç›®æ ‡section:', targetId);
      // å°è¯•é‡æ–°æ˜¾ç¤ºç¬¬ä¸€ä¸ªsectionä½œä¸ºå›é€€
      const firstSection = allSections[0];
      if (firstSection) {
        console.log('å›é€€åˆ°ç¬¬ä¸€ä¸ªsection:', firstSection.id);
        firstSection.style.display = 'block';
        firstSection.classList.add('active');
      }
      return;
    }
    
    // ç¡®ä¿ç›®æ ‡sectionæ˜¯.section-contentç±»
    if (!targetSection.classList.contains('section-content')) {
      console.warn('ç›®æ ‡å…ƒç´ ä¸æ˜¯.section-contentç±»');
    }
    
    // æ˜¾ç¤ºç›®æ ‡section
    console.log('æ˜¾ç¤ºç›®æ ‡section:', targetId);
    targetSection.style.display = 'block';
    
    // æ·»åŠ activeç±»ï¼ˆä¸ä½¿ç”¨setTimeoutï¼Œç¡®ä¿ç«‹å³æ‰§è¡Œï¼‰
    setTimeout(() => {
      targetSection.classList.add('active');
      console.log('å·²æ·»åŠ activeç±»åˆ°section:', targetId);
      
      // æ ¹æ®sectionç±»å‹æ‰§è¡Œç‰¹å®šåˆå§‹åŒ–
      if (targetId === 's1') {
        console.log('ç‰¹æ®Šå¤„ç†s1éƒ¨åˆ†');
        // ç®€åŒ–æ—¶é—´å»¶è¿Ÿï¼Œé¿å…åµŒå¥—setTimeout
        setTimeout(() => {
          try {
            initializeConnections();
            restartRingAnimations();
          } catch (error) {
            console.error('s1ç‰¹æ®Šåˆå§‹åŒ–å¤±è´¥:', error);
          }
        }, 300);
      } else if (targetId === 's5') {
        console.log('ç‰¹æ®Šå¤„ç†s5éƒ¨åˆ†');
        setTimeout(() => {
          try {
            restartInsightAnimations();
          } catch (error) {
            console.error('s5ç‰¹æ®Šåˆå§‹åŒ–å¤±è´¥:', error);
          }
        }, 200);
      }
      
      // åˆå§‹åŒ–å›¾è¡¨ï¼ˆä»…åœ¨éœ€è¦çš„sectionä¸­ï¼‰
      if (['s3', 's4'].includes(targetId)) {
        setTimeout(() => {
          try {
            initializeCharts();
          } catch (error) {
            console.error('å›¾è¡¨åˆå§‹åŒ–å¤±è´¥:', error);
          }
        }, 200);
      }
    }, 10);
    
    // ç«‹å³æ›´æ–°å¯¼èˆªçŠ¶æ€ï¼ˆä¸ç­‰å¾…åŠ¨ç”»ï¼‰
    updateNavigation(targetId);
    console.log('å¯¼èˆªçŠ¶æ€å·²æ›´æ–°');
    
  } catch (error) {
    console.error('å¯¼èˆªè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:', error);
  }
  
  console.log('===== å¯¼èˆªå¤„ç†ç»“æŸ =====');
}

// æ›´æ–°å¯¼èˆªçŠ¶æ€
function updateNavigation(activeSectionId) {
  document.querySelectorAll('.nav-dot, .nav-btn').forEach(dot => {
    const dotTarget = dot.getAttribute('data-target');
    const isActive = dotTarget === activeSectionId;
    
    dot.classList.toggle('active', isActive);
    dot.setAttribute('aria-selected', isActive);
    
    // æ›´æ–°ç§»åŠ¨ç«¯æŒ‰é’®æ ·å¼
    if (dot.classList.contains('nav-btn')) {
      const indicator = dot.querySelector('span');
      if (indicator) {
        if (isActive) {
          indicator.className = 'block w-3 h-3 rounded-full bg-accent animate-pulse-soft';
        } else {
          indicator.className = 'block w-3 h-3 rounded-full bg-gray-300';
        }
      }
    }
  });
}

// åˆå§‹åŒ–å›¾è¡¨
function initializeCharts() {
  // ä¿¡æ¯é˜¶æ®µå›¾è¡¨
  const infoCtx = document.getElementById('infoChart');
  if (infoCtx) {
    const container = infoCtx.closest('.chart-container');
    if (container) {
      container.classList.add('visible');
    }
    
    if (!infoChart) {
      infoChart = new Chart(infoCtx, {
        type: 'line',
        data: {
          labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
          datasets: [{
            label: 'è¶‹åŠ¿çº¿',
            data: [12, 19, 15, 25, 22, 30],
            borderColor: '#3b82f6',
            backgroundColor: 'rgba(59, 130, 246, 0.1)',
            tension: 0.4,
            fill: true,
            pointBackgroundColor: '#3b82f6',
            pointBorderColor: '#ffffff',
            pointBorderWidth: 2,
            pointRadius: 6,
            pointHoverRadius: 8
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                display: false
              },
              ticks: {
                color: '#6b7280'
              }
            },
            x: {
              grid: {
                display: false
              },
              ticks: {
                color: '#6b7280'
              }
            }
          },
          animation: {
            duration: 2000,
            easing: 'easeOutQuart'
          },
          interaction: {
            intersect: false,
            mode: 'index'
          }
        }
      });
    } else {
      infoChart.update('active');
    }
  }

  // è®¤çŸ¥è¿è¶Šæ›²çº¿
  const cognitiveCtx = document.getElementById('cognitiveChart');
  if (cognitiveCtx) {
    const container = cognitiveCtx.closest('.chart-container');
    if (container) {
      container.classList.add('visible');
    }
    
    if (!cognitiveChart) {
      cognitiveChart = new Chart(cognitiveCtx, {
        type: 'line',
        data: {
          labels: ['æ•°æ®', 'ä¿¡æ¯', 'çŸ¥è¯†', 'ç†è§£', 'æ™ºæ…§'],
          datasets: [{
            label: 'è®¤çŸ¥æ·±åº¦',
            data: [10, 25, 45, 70, 95],
            borderColor: '#ffb57a',
            backgroundColor: 'rgba(255, 181, 122, 0.1)',
            tension: 0.4,
            fill: true,
            pointBackgroundColor: '#ffb57a',
            pointBorderColor: '#ffffff',
            pointBorderWidth: 3,
            pointRadius: 8,
            pointHoverRadius: 12,
            pointHoverBackgroundColor: '#ffffff',
            pointHoverBorderColor: '#ffb57a',
            pointHoverBorderWidth: 3
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              backgroundColor: 'rgba(255, 255, 255, 0.95)',
              titleColor: '#374151',
              bodyColor: '#6b7280',
              borderColor: '#e5e7eb',
              borderWidth: 1,
              padding: 12,
              boxPadding: 6,
              usePointStyle: true,
              callbacks: {
                label: function(context) {
                  return `è®¤çŸ¥æ°´å¹³: ${context.parsed.y}%`;
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              max: 100,
              title: {
                display: true,
                text: 'è®¤çŸ¥æ°´å¹³',
                color: '#6b7280',
                font: {
                  size: 14,
                  weight: 'bold'
                }
              },
              ticks: {
                color: '#6b7280',
                callback: function(value) {
                  return value + '%';
                }
              },
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            },
            x: {
              title: {
                display: true,
                text: 'è®¤çŸ¥é˜¶æ®µ',
                color: '#6b7280',
                font: {
                  size: 14,
                  weight: 'bold'
                }
              },
              ticks: {
                color: '#6b7280'
              },
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            }
          },
          interaction: {
            intersect: false,
            mode: 'index'
          },
          animation: {
            duration: 2500,
            easing: 'easeOutQuart'
          },
          elements: {
            point: {
              hoverRadius: 12,
              hoverBackgroundColor: '#ffffff',
              hoverBorderColor: '#ffb57a',
              hoverBorderWidth: 3
            }
          }
        }
      });
    } else {
      cognitiveChart.update('active');
    }
  }
}

// åˆå§‹åŒ–è¿æ¥çº¿
function initializeConnections() {
  console.log('åˆå§‹åŒ–è¿æ¥çº¿...');
  
  const svg = document.getElementById('connectionSvg');
  if (!svg) {
    console.log('SVGå…ƒç´ æœªæ‰¾åˆ°');
    return;
  }

  // æ¸…é™¤ç°æœ‰è¿æ¥çº¿
  while (svg.firstChild) {
    svg.removeChild(svg.firstChild);
  }

  const cards = document.querySelectorAll('.knowledge-card');
  const center = document.querySelector('.energy-core');
  
  if (cards.length === 0) {
    console.log('æœªæ‰¾åˆ°çŸ¥è¯†å¡ç‰‡');
    return;
  }
  
  if (!center) {
    console.log('æœªæ‰¾åˆ°è®¤çŸ¥æ ¸å¿ƒ');
    return;
  }

  try {
    const svgRect = svg.getBoundingClientRect();
    const centerRect = center.getBoundingClientRect();
    
    // è®¡ç®—SVGåæ ‡ç³»ä¸­çš„ä¸­å¿ƒç‚¹
    const centerX = centerRect.left + centerRect.width / 2 - svgRect.left;
    const centerY = centerRect.top + centerRect.height / 2 - svgRect.top;
    
    console.log('ä¸­å¿ƒç‚¹åæ ‡:', centerX, centerY);
    console.log('å¡ç‰‡æ•°é‡:', cards.length);
    
    cards.forEach((card, index) => {
      const cardRect = card.getBoundingClientRect();
      const cardX = cardRect.left + cardRect.width / 2 - svgRect.left;
      const cardY = cardRect.top + cardRect.height / 2 - svgRect.top;
      
      console.log(`å¡ç‰‡${index}åæ ‡:`, cardX, cardY);
      
      // åˆ›å»ºè¿æ¥çº¿
      const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      line.setAttribute('x1', centerX);
      line.setAttribute('y1', centerY);
      line.setAttribute('x2', cardX);
      line.setAttribute('y2', cardY);
      line.setAttribute('class', 'connection-line');
      line.style.animationDelay = `${index * 0.2}s`;
      
      svg.appendChild(line);
    });
    
    console.log('è¿æ¥çº¿åˆå§‹åŒ–å®Œæˆ');
  } catch (error) {
    console.error('åˆå§‹åŒ–è¿æ¥çº¿æ—¶å‡ºé”™:', error);
  }
}

// åˆ›å»ºèƒŒæ™¯ç²’å­
function createParticles() {
  const container = document.getElementById('particleBackground');
  const particleCount = 15;
  
  for (let i = 0; i < particleCount; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    
    // éšæœºä½ç½®å’ŒåŠ¨ç”»
    particle.style.left = Math.random() * 100 + '%';
    particle.style.animationDuration = (8 + Math.random() * 8) + 's';
    particle.style.animationDelay = Math.random() * 10 + 's';
    particle.style.background = `rgba(255, 181, 122, ${0.3 + Math.random() * 0.3})`;
    particle.style.width = particle.style.height = (2 + Math.random() * 4) + 'px';
    
    container.appendChild(particle);
  }
}

// åˆ›å»ºåŠ¨æ€ç¯å½¢
function createDynamicRings() {
  const container = document.getElementById('ringContainer');
  if (!container) return;
  
  // åŠ¨æ€ç”Ÿæˆæ›´å¤šç¯å½¢
  for (let i = 0; i < 3; i++) {
    const ring = document.createElement('div');
    const size = 96 + i * 24;
    const delay = i * 0.5;
    
    ring.className = `ring-layer ring-${i % 5 + 1} animate-pulse-ring-slow`;
    ring.style.width = size + 'px';
    ring.style.height = size + 'px';
    ring.style.animationDelay = delay + 's';
    ring.style.opacity = (0.1 + i * 0.05).toString();
    
    container.appendChild(ring);
  }
  
  // åˆ›å»ºæ—‹è½¬å…‰ç¯
  for (let i = 0; i < 2; i++) {
    const spiral = document.createElement('div');
    const size = 56 + i * 16;
    
    spiral.className = 'ring-gradient';
    spiral.style.width = size + 'px';
    spiral.style.height = size + 'px';
    spiral.style.animationDelay = (i * 2) + 's';
    spiral.style.opacity = (0.15 + i * 0.05).toString();
    
    container.appendChild(spiral);
  }
  
  // åˆ›å»ºè„‰å†²å…‰ç¯
  for (let i = 0; i < 2; i++) {
    const glow = document.createElement('div');
    const size = 52 + i * 20;
    
    glow.className = 'pulse-glow';
    glow.style.width = size + 'px';
    glow.style.height = size + 'px';
    glow.style.animationDelay = (i * 1.5) + 's';
    
    container.appendChild(glow);
  }
}

// é‡å¯ç¯å½¢åŠ¨ç”»
function restartRingAnimations() {
  const rings = document.querySelectorAll('.ring-layer, .ring-gradient, .pulse-glow');
  rings.forEach((ring, index) => {
    // é‡æ–°è§¦å‘åŠ¨ç”»
    ring.style.animation = 'none';
    setTimeout(() => {
      ring.style.animation = null;
    }, 10);
  });
}

// é‡å¯å“²å­¦æ´å¯Ÿç¯å½¢åŠ¨ç”»
function restartInsightAnimations() {
  const rings = document.querySelectorAll('.insight-ring, .connection-beam');
  rings.forEach((ring, index) => {
    // é‡æ–°è§¦å‘åŠ¨ç”»
    ring.style.animation = 'none';
    setTimeout(() => {
      ring.style.animation = null;
    }, 10);
  });
}

// æ˜¾ç¤ºçŸ¥è¯†è¯¦æƒ…
function showDetail(type) {
  const details = {
    objective: {
      title: 'å®¢è§‚çŸ¥è¯†è¯¦æƒ…',
      content: `
        <div class="space-y-4 animate-fade-in-up">
          <p>å®¢è§‚çŸ¥è¯†åŸºäºå¯éªŒè¯çš„æ•°æ®å’Œç§‘å­¦æ¨¡å‹ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
          <ul class="list-disc pl-6 space-y-2 animate-fade-in-up-delay-1">
            <li>å¯é‡å¤æ€§å’Œå¯éªŒè¯æ€§</li>
            <li>é‡åŒ–åˆ†æå’Œç»Ÿè®¡éªŒè¯</li>
            <li>æ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼</li>
            <li>é€»è¾‘æ¨ç†å’Œå› æœå…³ç³»</li>
          </ul>
          <div class="bg-blue-50 rounded-lg p-4 animate-fade-in-up-delay-2">
            <h4 class="font-bold mb-2">åº”ç”¨ç¤ºä¾‹</h4>
            <p class="text-sm">æœºå™¨å­¦ä¹ æ¨¡å‹å‡†ç¡®ç‡ï¼š94.2%</p>
            <p class="text-sm">æ•°æ®å®Œæ•´æ€§ï¼š98.7%</p>
          </div>
        </div>
      `
    },
    subjective: {
      title: 'ä¸»è§‚çŸ¥è¯†è¯¦æƒ…',
      content: `
        <div class="space-y-4 animate-fade-in-up">
          <p>ä¸»è§‚çŸ¥è¯†æ¥æºäºä¸ªä½“çš„æƒ…æ„Ÿä½“éªŒå’Œä¸»è§‚æ„Ÿå—ï¼š</p>
          <ul class="list-disc pl-6 space-y-2 animate-fade-in-up-delay-1">
            <li>ç”¨æˆ·æƒ…æ„Ÿåé¦ˆå’Œä½“éªŒæ—¥å¿—</li>
            <li>ä¸ªäººåå¥½å’Œä»·å€¼åˆ¤æ–­</li>
            <li>å®šæ€§è®¿è°ˆå’Œæ·±åº¦è°ƒç ”</li>
            <li>æƒ…å¢ƒåŒ–çš„ç†è§£å’Œæ„Ÿæ‚Ÿ</li>
          </ul>
          <div class="bg-pink-50 rounded-lg p-4 animate-fade-in-up-delay-2">
            <h4 class="font-bold mb-2">æƒ…æ„Ÿåˆ†æç»“æœ</h4>
            <p class="text-sm">ç”¨æˆ·æ»¡æ„åº¦ï¼š87%</p>
            <p class="text-sm">æƒ…æ„Ÿå€¾å‘ï¼šç§¯æ 65%ï¼Œä¸­æ€§ 25%ï¼Œæ¶ˆæ 10%</p>
          </div>
        </div>
      `
    },
    shared: {
      title: 'å…±äº«çŸ¥è¯†è¯¦æƒ…',
      content: `
        <div class="space-y-4 animate-fade-in-up">
          <p>å…±äº«çŸ¥è¯†ä½“ç°äº†ç¤¾ç¾¤çš„é›†ä½“è®¤çŸ¥å’Œæ–‡åŒ–è„‰ç»œï¼š</p>
          <ul class="list-disc pl-6 space-y-2 animate-fade-in-up-delay-1">
            <li>æ–‡åŒ–èƒŒæ™¯å’Œç¤¾ä¼šè§„èŒƒ</li>
            <li>ç¤¾ç¾¤å…±è¯†å’Œä»·å€¼è§‚å¿µ</li>
            <li>ç½‘ç»œèˆ†æƒ…å’Œç¤¾ä¼šè¶‹åŠ¿</li>
            <li>å›¢é˜Ÿåä½œå’Œç»„ç»‡æ™ºæ…§</li>
          </ul>
          <div class="bg-yellow-50 rounded-lg p-4 animate-fade-in-up-delay-2">
            <h4 class="font-bold mb-2">æ–‡åŒ–æ´å¯Ÿ</h4>
            <p class="text-sm">çƒ­ç‚¹è¯é¢˜å…³æ³¨åº¦ï¼š+32%</p>
            <p class="text-sm">æ–‡åŒ–è®¤åŒåº¦ï¼š78%</p>
          </div>
        </div>
      `
    },
    intuitive: {
      title: 'æ„Ÿè§‰çŸ¥è¯†è¯¦æƒ…',
      content: `
        <div class="space-y-4 animate-fade-in-up">
          <p>æ„Ÿè§‰çŸ¥è¯†åŸºäºç›´è§‰ã€çµæ„Ÿå’Œåˆ›é€ æ€§æ€ç»´ï¼š</p>
          <ul class="list-disc pl-6 space-y-2 animate-fade-in-up-delay-1">
            <li>è®¾è®¡çµæ„Ÿå’Œåˆ›æ„å¯å‘</li>
            <li>ç›´è§‰åˆ¤æ–­å’Œç¬¬å…­æ„Ÿ</li>
            <li>è‰ºæœ¯æ„ŸçŸ¥å’Œå®¡ç¾ä½“éªŒ</li>
            <li>åˆ›æ–°æ€ç»´å’Œçªç ´å¸¸è§„</li>
          </ul>
          <div class="bg-red-50 rounded-lg p-4 animate-fade-in-up-delay-2">
            <h4 class="font-bold mb-2">åˆ›æ„æŒ‡æ ‡</h4>
            <p class="text-sm">åˆ›æ„æ»¡æ„åº¦ï¼š91%</p>
            <p class="text-sm">åˆ›æ–°æŒ‡æ•°ï¼š8.5/10</p>
          </div>
        </div>
      `
    }
  };

  const detail = details[type];
  if (detail) {
    document.getElementById('modalTitle').textContent = detail.title;
    document.getElementById('modalContent').innerHTML = detail.content;
    document.getElementById('detailModal').classList.add('active');
    document.body.style.overflow = 'hidden';
    
    // æ·»åŠ æ‰“å¼€åŠ¨ç”»
    setTimeout(() => {
      document.getElementById('detailModal').classList.add('active');
    }, 10);
  }
}

// æ˜¾ç¤ºåº”ç”¨è¯¦æƒ…
function showApplicationDetail(type) {
  const details = {
    research: {
      title: 'ç§‘å­¦ç ”ç©¶åº”ç”¨è¯¦æƒ…',
      content: `
        <div class="space-y-4 animate-fade-in-up">
          <p>åœ¨ç§‘å­¦ç ”ç©¶ä¸­ï¼Œåšæ•°æ®æ–¹æ³•èƒ½å¤Ÿï¼š</p>
          <ul class="list-disc pl-6 space-y-2 animate-fade-in-up-delay-1">
            <li>æ•´åˆå®šé‡å®éªŒæ•°æ®å’Œå®šæ€§è§‚å¯Ÿç»“æœ</li>
            <li>æå‡ç ”ç©¶çš„ç”Ÿæ€æ•ˆåº¦å’Œå¤–éƒ¨æœ‰æ•ˆæ€§</li>
            <li>å‘ç°ä¼ ç»Ÿé‡åŒ–æ–¹æ³•æ— æ³•æ•æ‰çš„æ·±å±‚è§„å¾‹</li>
            <li>ä¿ƒè¿›è·¨å­¦ç§‘åˆä½œå’ŒçŸ¥è¯†èåˆ</li>
          </ul>
          <div class="bg-green-50 rounded-lg p-4 animate-fade-in-up-delay-2">
            <h4 class="font-bold mb-2">ç ”ç©¶æˆæœ</h4>
            <p class="text-sm">å¯å¤ç°æ€§ï¼š92%</p>
            <p class="text-sm">ç†è®ºè´¡çŒ®åº¦ï¼šé«˜</p>
            <p class="text-sm">å®é™…åº”ç”¨ä»·å€¼ï¼š8.7/10</p>
          </div>
        </div>
      `
    },
    ux: {
      title: 'ç”¨æˆ·ä½“éªŒåº”ç”¨è¯¦æƒ…',
      content: `
        <div class="space-y-4 animate-fade-in-up">
          <p>åšæ•°æ®åœ¨ç”¨æˆ·ä½“éªŒè®¾è®¡ä¸­çš„åº”ç”¨ï¼š</p>
          <ul class="list-disc pl-6 space-y-2 animate-fade-in-up-delay-1">
            <li>æ·±åº¦ç†è§£ç”¨æˆ·çš„æƒ…æ„Ÿéœ€æ±‚å’Œè¡Œä¸ºåŠ¨æœº</li>
            <li>è¯†åˆ«ç”¨æˆ·æ—…ç¨‹ä¸­çš„ç—›ç‚¹å’Œçˆ½ç‚¹</li>
            <li>åˆ›å»ºæ›´å…·åŒç†å¿ƒçš„äº§å“ä½“éªŒ</li>
            <li>é¢„æµ‹ç”¨æˆ·éœ€æ±‚å˜åŒ–å’Œè¶‹åŠ¿</li>
          </ul>
          <div class="bg-blue-50 rounded-lg p-4 animate-fade-in-up-delay-2">
            <h4 class="font-bold mb-2">UX æŒ‡æ ‡</h4>
            <p class="text-sm">æƒ…æ„Ÿè¯†åˆ«ç²¾åº¦ï¼š87%</p>
            <p class="text-sm">ç”¨æˆ·ç•™å­˜ç‡ï¼š+23%</p>
            <p class="text-sm">NPS è¯„åˆ†ï¼š76</p>
          </div>
        </div>
      `
    },
    culture: {
      title: 'æ–‡åŒ–æ´å¯Ÿåº”ç”¨è¯¦æƒ…',
      content: `
        <div class="space-y-4 animate-fade-in-up">
          <p>åšæ•°æ®æ–¹æ³•åœ¨æ–‡åŒ–ç ”ç©¶ä¸­çš„ä»·å€¼ï¼š</p>
          <ul class="list-disc pl-6 space-y-2 animate-fade-in-up-delay-1">
            <li>æŒ–æ˜æ–‡åŒ–ç¬¦å·å’Œä»·å€¼è§‚å¿µçš„æ·±å±‚å«ä¹‰</li>
            <li>è¿½è¸ªæ–‡åŒ–è¶‹åŠ¿çš„æ¼”å˜è½¨è¿¹</li>
            <li>ç†è§£ä¸åŒæ–‡åŒ–ç¾¤ä½“çš„è®¤çŸ¥å·®å¼‚</li>
            <li>é¢„æµ‹æ–‡åŒ–å˜è¿å’Œç¤¾ä¼šå½±å“</li>
          </ul>
          <div class="bg-purple-50 rounded-lg p-4 animate-fade-in-up-delay-2">
            <h4 class="font-bold mb-2">æ–‡åŒ–æŒ‡æ ‡</h4>
            <p class="text-sm">è¯é¢˜çƒ­åº¦ä¸Šå‡ï¼š32%</p>
            <p class="text-sm">æ–‡åŒ–è®¤åŒå¼ºåº¦ï¼š78%</p>
            <p class="text-sm">è¶‹åŠ¿é¢„æµ‹å‡†ç¡®åº¦ï¼š85%</p>
          </div>
        </div>
      `
    },
    strategy: {
      title: 'æˆ˜ç•¥åˆ¤æ–­åº”ç”¨è¯¦æƒ…',
      content: `
        <div class="space-y-4 animate-fade-in-up">
          <p>åšæ•°æ®åœ¨æˆ˜ç•¥å†³ç­–ä¸­çš„é‡è¦ä½œç”¨ï¼š</p>
          <ul class="list-disc pl-6 space-y-2 animate-fade-in-up-delay-1">
            <li>æä¾›å…¨é¢çš„å¸‚åœºç¯å¢ƒè®¤çŸ¥</li>
            <li>è¯†åˆ«æ½œåœ¨çš„é£é™©å’Œæœºé‡</li>
            <li>åˆ¶å®šæ›´å…·é€‚åº”æ€§çš„æˆ˜ç•¥æ–¹æ¡ˆ</li>
            <li>ä¼˜åŒ–èµ„æºé…ç½®å’ŒæŠ•èµ„å†³ç­–</li>
          </ul>
          <div class="bg-orange-50 rounded-lg p-4 animate-fade-in-up-delay-2">
            <h4 class="font-bold mb-2">æˆ˜ç•¥æŒ‡æ ‡</h4>
            <p class="text-sm">é£é™©è¯„ä¼°ï¼šä½</p>
            <p class="text-sm">æœºé‡è¯†åˆ«ç‡ï¼š91%</p>
            <p class="text-sm">æˆ˜ç•¥æ‰§è¡ŒæˆåŠŸç‡ï¼š83%</p>
          </div>
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 animate-fade-in-up-delay-3">
            <h4 class="font-bold mb-2">å»ºè®®è¡ŒåŠ¨</h4>
            <p class="text-sm">è¡¥é‡‡åšæ•°æ®ä»¥å¢å¼ºå†³ç­–çš„å…¨é¢æ€§å’Œå‡†ç¡®æ€§</p>
          </div>
        </div>
      `
    }
  };

  const detail = details[type];
  if (detail) {
    document.getElementById('modalTitle').textContent = detail.title;
    document.getElementById('modalContent').innerHTML = detail.content;
    document.getElementById('detailModal').classList.add('active');
    document.body.style.overflow = 'hidden';
    
    // æ·»åŠ æ‰“å¼€åŠ¨ç”»
    setTimeout(() => {
      document.getElementById('detailModal').classList.add('active');
    }, 10);
  }
}

// å…³é—­æ¨¡æ€æ¡†
function closeModal() {
  console.log('å…³é—­æ¨¡æ€æ¡†');
  const modal = document.getElementById('detailModal');
  modal.classList.remove('active');
  
  setTimeout(() => {
    document.body.style.overflow = 'auto';
  }, 300);
}

// åˆ‡æ¢è®¤çŸ¥é˜¶æ¢¯è¯¦æƒ…
function toggleStep(stepId) {
  const stepElement = document.getElementById(stepId + 'Step');
  const button = stepElement.parentElement;
  const isExpanded = stepElement.classList.contains('hidden');
  
  stepElement.classList.toggle('hidden', !isExpanded);
  button.setAttribute('aria-expanded', isExpanded);
  
  // å¦‚æœæ˜¯ä¿¡æ¯é˜¶æ®µä¸”å›¾è¡¨æœªåˆå§‹åŒ–ï¼Œåˆå§‹åŒ–å›¾è¡¨
  if (stepId === 'information' && !isExpanded && !infoChart) {
    setTimeout(initializeCharts, 100);
  }
}

// æ·»åŠ é”®ç›˜æ”¯æŒ
function addKeyboardSupport() {
  document.addEventListener('keydown', function(e) {
    // ESC é”®å…³é—­æ¨¡æ€æ¡†
    if (e.key === 'Escape') {
      closeModal();
    }
    
    // å›è½¦é”®æ¿€æ´»å¯¼èˆª
    if (e.key === 'Enter' || e.key === ' ') {
      const activeElement = document.activeElement;
      if (activeElement.classList.contains('nav-dot') || activeElement.classList.contains('nav-btn')) {
        e.preventDefault();
        const target = activeElement.getAttribute('data-target');
        navigateToSection(target);
      }
    }
    
    // æ–¹å‘é”®å¯¼èˆª
    if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(e.key)) {
      const sections = ['s1', 's2', 's3', 's4', 's5', 's6'];
      const currentSection = document.querySelector('.section-content.active')?.id;
      const currentIndex = sections.indexOf(currentSection);
      
      if (currentIndex !== -1) {
        let newIndex = currentIndex;
        
        if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
          newIndex = (currentIndex + 1) % sections.length;
        } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
          newIndex = (currentIndex - 1 + sections.length) % sections.length;
        }
        
        navigateToSection(sections[newIndex]);
        e.preventDefault();
      }
    }
  });
}

// é˜²æŠ–å‡½æ•°
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°åˆå§‹åŒ–
window.addEventListener('resize', debounce(function() {
  console.log('çª—å£å¤§å°æ”¹å˜ï¼Œé‡æ–°åˆå§‹åŒ–è¿æ¥çº¿');
  
  // é‡æ–°åˆå§‹åŒ–è¿æ¥çº¿
  if (document.getElementById('s1').classList.contains('active')) {
    initializeConnections();
  }
  
  // æ›´æ–°å›¾è¡¨å¤§å°
  if (cognitiveChart) {
    cognitiveChart.resize();
  }
  if (infoChart) {
    infoChart.resize();
  }
}, 200));

// è§¦æ‘¸æ”¯æŒä¼˜åŒ–
let touchStartY = 0;
let touchEndY = 0;

document.addEventListener('touchstart', function(e) {
  touchStartY = e.changedTouches[0].screenY;
});

document.addEventListener('touchend', function(e) {
  touchEndY = e.changedTouches[0].screenY;
  handleSwipe();
});

function handleSwipe() {
  const swipeThreshold = 50;
  const diff = touchStartY - touchEndY;
  
  if (Math.abs(diff) > swipeThreshold) {
    const sections = ['s1', 's2', 's3', 's4', 's5', 's6'];
    const currentSection = document.querySelector('.section-content.active')?.id;
    const currentIndex = sections.indexOf(currentSection);
    
    if (diff > 0 && currentIndex < sections.length - 1) {
      // å‘ä¸Šæ»‘åŠ¨ï¼Œä¸‹ä¸€é¡µ
      navigateToSection(sections[currentIndex + 1]);
    } else if (diff < 0 && currentIndex > 0) {
      // å‘ä¸‹æ»‘åŠ¨ï¼Œä¸Šä¸€é¡µ
      navigateToSection(sections[currentIndex - 1]);
    }
  }
}

// æ»šåŠ¨æ—¶æ›´æ–°åŠ¨ç”»çŠ¶æ€
window.addEventListener('scroll', debounce(function() {
  // æ›´æ–°å›¾è¡¨å¯è§æ€§
  const chartContainers = document.querySelectorAll('.chart-container');
  chartContainers.forEach(container => {
    const rect = container.getBoundingClientRect();
    const isVisible = rect.top < window.innerHeight && rect.bottom > 0;
    
    if (isVisible) {
      container.classList.add('visible');
    }
  });
}, 100));

// ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
document.getElementById('detailModal').addEventListener('click', function(e) {
  if (e.target === this) {
    closeModal();
  }
});

// æ·»åŠ é”™è¯¯å¤„ç†
window.addEventListener('error', function(e) {
  console.error('JavaScripté”™è¯¯:', e.message);
  console.error('é”™è¯¯ä½ç½®:', e.filename, 'è¡Œ:', e.lineno);
});

// è¯„è®ºåŠŸèƒ½ç›¸å…³å‡½æ•°
function loadComments() {
  // ä»Firebaseæ•°æ®åº“åŠ è½½è¯„è®º
  const commentsRef = window.firebaseRef(database, 'comments');
  window.firebaseGet(commentsRef)
    .then((snapshot) => {
      comments = [];
      if (snapshot.exists()) {
        snapshot.forEach((childSnapshot) => {
          const commentData = childSnapshot.val();
          comments.push({
            id: childSnapshot.key,
            ...commentData
          });
        });
      }
      renderComments();
    })
    .catch((error) => {
      console.error('åŠ è½½è¯„è®ºå¤±è´¥:', error);
      // å¤±è´¥æ—¶å°è¯•ä»localStorageåŠ è½½ä½œä¸ºåå¤‡
      const savedComments = localStorage.getItem('thickDataComments');
      if (savedComments) {
        comments = JSON.parse(savedComments);
        renderComments();
      }
    });
}

function renderComments() {
  const commentList = document.getElementById('commentList');
  const noCommentsMessage = document.getElementById('noCommentsMessage');
  
  if (comments.length === 0) {
    noCommentsMessage.style.display = 'block';
    commentList.innerHTML = '';
    commentList.appendChild(noCommentsMessage);
    return;
  }
  
  noCommentsMessage.style.display = 'none';
  commentList.innerHTML = '';
  
  // æŒ‰æ—¶é—´é™åºæ’åº
  const sortedComments = [...comments].sort((a, b) => b.timestamp - a.timestamp);
  
  sortedComments.forEach((comment, index) => {
    const commentElement = createCommentElement(comment, index);
    commentList.appendChild(commentElement);
  });
}

function createCommentElement(comment, index) {
  const div = document.createElement('div');
  div.className = 'comment-item animate-fade-in-up';
  div.style.animationDelay = `${index * 0.1}s`;
  
  const date = new Date(comment.timestamp);
  const formattedDate = date.toLocaleString('zh-CN', {
    year: 'numeric',
    month: '2-digit',
    day: '2-digit',
    hour: '2-digit',
    minute: '2-digit'
  });
  
  div.innerHTML = `
    <div class="comment-author">${escapeHTML(comment.author)}</div>
    <div class="comment-time">${formattedDate}</div>
    <div class="comment-content">${escapeHTML(comment.content).replace(/\n/g, '<br>')}</div>
    <div class="comment-actions">
      <span class="comment-btn" onclick="likeComment(${index})">
        <i class="like-icon ${comment.liked ? 'text-red-500' : 'text-gray-400'}">â¤ï¸</i> 
        <span class="like-count">${comment.likes}</span>
      </span>
      <span class="comment-btn" onclick="deleteComment(${index})">åˆ é™¤</span>
    </div>
  `;
  
  return div;
}

function submitComment() {
  const authorInput = document.getElementById('commentAuthor');
  const contentInput = document.getElementById('commentContent');
  
  const author = authorInput.value.trim();
  const content = contentInput.value.trim();
  
  if (!author || !content) {
    alert('è¯·å¡«å†™å®Œæ•´çš„è¯„è®ºä¿¡æ¯');
    return;
  }
  
  const newComment = {
    author: author,
    content: content,
    timestamp: Date.now(),
    likes: 0,
    liked: false
  };
  
  comments.push(newComment);
  
  // ä¿å­˜åˆ°Firebaseæ•°æ®åº“
  const commentsRef = window.firebaseRef(database, 'comments');
  const newCommentRef = window.firebaseRef(commentsRef, Date.now().toString()); // ä½¿ç”¨æ—¶é—´æˆ³ä½œä¸ºå”¯ä¸€é”®
  window.firebaseSet(newCommentRef, newComment)
    .then(() => {
      console.log('è¯„è®ºä¿å­˜åˆ°FirebaseæˆåŠŸ');
    })
    .catch((error) => {
      console.error('ä¿å­˜è¯„è®ºåˆ°Firebaseå¤±è´¥:', error);
      // å¤±è´¥æ—¶ä¿å­˜åˆ°localStorageä½œä¸ºåå¤‡
      localStorage.setItem('thickDataComments', JSON.stringify(comments));
    });
  
  // æ¸…ç©ºè¾“å…¥æ¡†
  authorInput.value = '';
  contentInput.value = '';
  
  // é‡æ–°æ¸²æŸ“è¯„è®º
  renderComments();
  
  // æ˜¾ç¤ºæˆåŠŸæç¤º
  showNotification('è¯„è®ºå‘è¡¨æˆåŠŸï¼', 'success');
}

function likeComment(index) {
  if (index >= 0 && index < comments.length) {
    const comment = comments[index];
    if (comment.liked) {
      comment.likes--;
    } else {
      comment.likes++;
    }
    comment.liked = !comment.liked;
    
    // ä¿å­˜åˆ°Firebaseæ•°æ®åº“
  if (comments[index].id) {
    const commentRef = window.firebaseRef(database, 'comments/' + comments[index].id);
    window.firebaseSet(commentRef, {
      ...comment // æ›´æ–°æ•´ä¸ªè¯„è®ºå¯¹è±¡
    }).catch((error) => {
      console.error('æ›´æ–°è¯„è®ºç‚¹èµå¤±è´¥:', error);
      // å¤±è´¥æ—¶ä¿å­˜åˆ°localStorageä½œä¸ºåå¤‡
      localStorage.setItem('thickDataComments', JSON.stringify(comments));
    });
  } else {
    // å¯¹äºæ²¡æœ‰IDçš„è¯„è®ºï¼ˆå¯èƒ½æ¥è‡ªlocalStorageï¼‰ï¼Œä¿å­˜åˆ°localStorage
    localStorage.setItem('thickDataComments', JSON.stringify(comments));
  }
    
    // æ›´æ–°UI
    renderComments();
  }
}

function deleteComment(index) {
  if (index >= 0 && index < comments.length) {
    if (confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡è¯„è®ºå—ï¼Ÿ')) {
      comments.splice(index, 1);
      
      // ä»Firebaseæ•°æ®åº“åˆ é™¤è¯„è®º
  if (comments[index].id) {
    database.ref('comments/' + comments[index].id).remove()
      .then(() => {
        console.log('è¯„è®ºä»Firebaseåˆ é™¤æˆåŠŸ');
      })
      .catch((error) => {
        console.error('ä»Firebaseåˆ é™¤è¯„è®ºå¤±è´¥:', error);
      });
  }
  
  // æ›´æ–°æœ¬åœ°å­˜å‚¨
  localStorage.setItem('thickDataComments', JSON.stringify(comments));
      
      // é‡æ–°æ¸²æŸ“è¯„è®º
      renderComments();
      
      // æ˜¾ç¤ºæˆåŠŸæç¤º
      showNotification('è¯„è®ºå·²åˆ é™¤', 'info');
    }
  }
}

function escapeHTML(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

// æ³¨: Firebase é…ç½®å’Œåˆå§‹åŒ–å·²åœ¨æ–‡ä»¶å‰é¢å®šä¹‰
// é¿å…é‡å¤å£°æ˜ firebaseConfig å˜é‡å¯¼è‡´è¯­æ³•é”™è¯¯
// æ•°æ®åº“å¼•ç”¨ä¹Ÿå·²åœ¨å‰é¢å®šä¹‰ï¼Œæ­¤å¤„ä¸å†é‡å¤åˆå§‹åŒ–

function showNotification(message, type = 'info') {
  // åˆ›å»ºé€šçŸ¥å…ƒç´ 
  const notification = document.createElement('div');
  notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300 ${
    type === 'success' ? 'bg-green-500 text-white' :
    type === 'error' ? 'bg-red-500 text-white' :
    'bg-blue-500 text-white'
  }`;
  notification.textContent = message;
  
  document.body.appendChild(notification);
  
  // æ˜¾ç¤ºé€šçŸ¥
  setTimeout(() => {
    notification.classList.remove('translate-x-full');
  }, 100);
  
  // 3ç§’åéšè—é€šçŸ¥
  setTimeout(() => {
    notification.classList.add('translate-x-full');
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 3000);
}

console.log('JavaScriptåŠ è½½å®Œæˆ');
</script>




<!-- ğŸ’¬ Coze æ™ºèƒ½ä½“æµ®çª—é›†æˆ -->
<script src="https://lf-cdn.coze.cn/obj/unpkg/flow-platform/chat-app-sdk/1.2.0-beta.19/libs/cn/index.js"></script>
<script>
  new CozeWebSDK.WebChatClient({
    config: {
      bot_id: "7568009429204238388",
    },
    componentProps: {
      title: "Coze",
      position: "bottom-right",
      themeColor: "#007AFF",
      avatar: "https://coze.cn/favicon.ico",
    },
    auth: {
      type: "token",
      token: "pat_KNr0eq7H3psT6cBBmv1cnSh4fs6yyHMroxRWaWQpd1E2BEwIkVvj4OfHl1Ri73iu",
      onRefreshToken: function () {
        return "YOUR_COZE_TOKEN_HERE";
      },
    },
  });
</script>

</body>
</html>
